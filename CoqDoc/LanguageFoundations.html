<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>LanguageFoundations</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library LanguageFoundations</h1>

<div class="code">
</div>

<div class="doc">
This file was written by Colm Bhandal, PhD student, Foundations and Methods group,
School of Computer Science and Statistics, Trinity College, Dublin, Ireland.
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">LoadPath</span> "Extras".<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">LibTactics</span>.<br/>

<br/>
</div>

<div class="doc">
This file lays down the foundation for the software language file by defining things like expressions and evaluation of expressions.
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="GenTacs.html#"><span class="id" type="library">GenTacs</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="StandardResults.html#"><span class="id" type="library">StandardResults</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Relations.Relations.html#"><span class="id" type="library">Relations</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#"><span class="id" type="library">Lists.ListSet</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Reals.html#"><span class="id" type="library">Reals</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#"><span class="id" type="library">List</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#"><span class="id" type="library">Logic.FunctionalExtensionality</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="ComhBasics.html#"><span class="id" type="library">ComhBasics</span></a>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">nat_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A countably infinite set of variables indexed by natural numbers.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Var"><span class="id" type="inductive">Var</span></a> : <span class="id" type="keyword">Type</span>:=<br/>
&nbsp;&nbsp;| <a name="var"><span class="id" type="constructor">var</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> : <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">x1</span>, <span class="id" type="var">x2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Peano_dec.html#eq_nat_dec"><span class="id" type="lemma">eq_nat_dec</span></a> <span class="id" type="var">n</span> <span class="id" type="var">n0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Base type elements are either a mode, a time, a position, a distance or a delay.
We use coercions to reduce constructor verbosity.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Base"><span class="id" type="inductive">Base</span></a> : <span class="id" type="keyword">Type</span>:=<br/>
&nbsp;&nbsp;| <a name="baseMode"><span class="id" type="constructor">baseMode</span></a> :&gt; <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a><br/>
&nbsp;&nbsp;| <a name="baseTime"><span class="id" type="constructor">baseTime</span></a> :&gt; <span class="id" type="keyword">Time</span> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a><br/>
&nbsp;&nbsp;| <a name="basePosition"><span class="id" type="constructor">basePosition</span></a> :&gt; <a class="idref" href="StandardResults.html#Position"><span class="id" type="record">Position</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a><br/>
&nbsp;&nbsp;| <a name="baseDistance"><span class="id" type="constructor">baseDistance</span></a> :&gt; <a class="idref" href="ComhBasics.html#Distance"><span class="id" type="record">Distance</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a><br/>
&nbsp;&nbsp;| <a name="baseDelay"><span class="id" type="constructor">baseDelay</span></a> :&gt; <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a><br/>
&nbsp;&nbsp;| <a name="baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> :&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>.<br/>

<br/>
</div>

<div class="doc">
Equality on the base type is decidable.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> : <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">x1</span>, <span class="id" type="var">x2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecMode"><span class="id" type="axiom">eqDecMode</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecTime"><span class="id" type="lemma">eqDecTime</span></a> <span class="id" type="var">t</span> <span class="id" type="var">t0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="StandardResults.html#eqDecPosition"><span class="id" type="lemma">eqDecPosition</span></a> <span class="id" type="var">p</span> <span class="id" type="var">p0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecDistance"><span class="id" type="lemma">eqDecDistance</span></a> <span class="id" type="var">d</span> <span class="id" type="var">d0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecDelay"><span class="id" type="lemma">eqDecDelay</span></a> <span class="id" type="var">d</span> <span class="id" type="var">d0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="StandardResults.html#eqDecNonnegReal"><span class="id" type="lemma">eqDecNonnegReal</span></a> <span class="id" type="var">n</span> <span class="id" type="var">n0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A simple expression language over the base types.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Exp"><span class="id" type="inductive">Exp</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="eVar"><span class="id" type="constructor">eVar</span></a> :&gt; <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eBase"><span class="id" type="constructor">eBase</span></a> :&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eSubtract"><span class="id" type="constructor">eSubtract</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eAdd"><span class="id" type="constructor">eAdd</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eMult"><span class="id" type="constructor">eMult</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="ePeriod"><span class="id" type="constructor">ePeriod</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eDist"><span class="id" type="constructor">eDist</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a><br/>
&nbsp;&nbsp;| <a name="eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Equality is decidable on expressions.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> : <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHx1_1</span> <span class="id" type="var">x2_1</span>); <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; [<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHx1_2</span> <span class="id" type="var">x2_2</span>); <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; [<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">f_equal</span> | <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>] | <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>]]; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHx1</span> <span class="id" type="var">x2</span>); <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">left</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">reflexivity</span> | <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>]].<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b</span> <span class="id" type="var">b0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A set of channels.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="Channel"><span class="id" type="inductive">Channel</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a name="chanAN"><span class="id" type="constructor">chanAN</span></a> | <a name="chanMStable"><span class="id" type="constructor">chanMStable</span></a> | <a name="chanMCurr"><span class="id" type="constructor">chanMCurr</span></a> | <a name="chanMNext"><span class="id" type="constructor">chanMNext</span></a><br/>
&nbsp;&nbsp;| <a name="chanPos"><span class="id" type="constructor">chanPos</span></a> | <a name="chanOutProc"><span class="id" type="constructor">chanOutProc</span></a> | <a name="chanInProc"><span class="id" type="constructor">chanInProc</span></a> | <a name="chanIOEnv"><span class="id" type="constructor">chanIOEnv</span></a> | <a name="chanTrans"><span class="id" type="constructor">chanTrans</span></a><br/>
&nbsp;&nbsp;| <a name="chanWake"><span class="id" type="constructor">chanWake</span></a> | <a name="chanPause"><span class="id" type="constructor">chanPause</span></a> | <a name="chanUnpause"><span class="id" type="constructor">chanUnpause</span></a> | <a name="chanBad"><span class="id" type="constructor">chanBad</span></a><br/>
&nbsp;&nbsp;| <a name="chanAbort"><span class="id" type="constructor">chanAbort</span></a>.<br/>

<br/>
</div>

<div class="doc">
Equality on channels is decidable.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eqDecChannel"><span class="id" type="lemma">eqDecChannel</span></a> : <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a> <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">x1</span>, <span class="id" type="var">x2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A substitution is a mapping from variables to expressions.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="Subst"><span class="id" type="definition">Subst</span></a> := <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>.<br/>

<br/>
</div>

<div class="doc">
The id substitution simply lifts every variable to an expression i.e. it
maps every variable to itself, with the eVar constructor as a wrapper.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="idSubst"><span class="id" type="definition">idSubst</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="subExp"><span class="id" type="definition">subExp</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="LanguageFoundations.html#Subst"><span class="id" type="definition">Subst</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <span class="id" type="var">b</span> =&gt; <a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <span class="id" type="var">b</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> <span class="id" type="var">e'</span> =&gt; <a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e'</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> <span class="id" type="var">e1</span> =&gt; <a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="lt_neq_nat"><span class="id" type="lemma">lt_neq_nat</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">m</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Lt.html#lt_pred"><span class="id" type="lemma">lt_pred</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">m</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHn</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="natDec"><span class="id" type="lemma">natDec</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:x_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:x_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Peano.html#:nat_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <span class="id" type="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:x_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Arith.Compare_dec.html#lt_eq_lt_dec"><span class="id" type="definition">lt_eq_lt_dec</span></a>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#lt_neq_nat"><span class="id" type="lemma">lt_neq_nat</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#lt_neq_nat"><span class="id" type="lemma">lt_neq_nat</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="varEqDec"><span class="id" type="lemma">varEqDec</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">n0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <span class="id" type="var">n0</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>). <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#natDec"><span class="id" type="lemma">natDec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#f_equal"><span class="id" type="lemma">f_equal</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="varEq"><span class="id" type="definition">varEq</span></a> (<span class="id" type="var">v1</span> <span class="id" type="var">v2</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <a class="idref" href="LanguageFoundations.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="LanguageFoundations.html#v2"><span class="id" type="variable">v2</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#left"><span class="id" type="constructor">left</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#right"><span class="id" type="constructor">right</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="update"><span class="id" type="definition">update</span></a> {<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) : (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">fun</span> <span class="id" type="var">v'</span> =&gt; <span class="id" type="keyword">if</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#v'"><span class="id" type="variable">v'</span></a>) <span class="id" type="keyword">then</span> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="keyword">else</span> (<a class="idref" href="LanguageFoundations.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="LanguageFoundations.html#v'"><span class="id" type="variable">v'</span></a>).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="listsToSub"><span class="id" type="definition">listsToSub</span></a> (<span class="id" type="var">lv</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">lex</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="LanguageFoundations.html#Subst"><span class="id" type="definition">Subst</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#lv"><span class="id" type="variable">lv</span></a> , <a class="idref" href="LanguageFoundations.html#lex"><span class="id" type="variable">lex</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">v</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">lv'</span> , <span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">lex'</span> =&gt; (<a class="idref" href="LanguageFoundations.html#update"><span class="id" type="definition">update</span></a> (<a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> <span class="id" type="var">lv'</span> <span class="id" type="var">lex'</span>) <span class="id" type="var">v</span> <span class="id" type="var">e</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> , <span class="id" type="var">_</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> , <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="listSub"><span class="id" type="definition">listSub</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="LanguageFoundations.html#Subst"><span class="id" type="definition">Subst</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">map</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="inVarList"><span class="id" type="definition">inVarList</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">lv</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#lv"><span class="id" type="variable">lv</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">v'</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">lv'</span> =&gt; <span class="id" type="keyword">if</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="var">v'</span>) <span class="id" type="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <span class="id" type="keyword">else</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="var">lv'</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="resetSub"><span class="id" type="definition">resetSub</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="LanguageFoundations.html#Subst"><span class="id" type="definition">Subst</span></a>) (<span class="id" type="var">lv</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#lv"><span class="id" type="variable">lv</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> =&gt; <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> =&gt; <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Open</span> <span class="id" type="keyword">Scope</span> <span class="id" type="var">R_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Evaluates certain base values (Delay, Time, Distance, Nonneg) to nonnegative reals.
Used to "normalise" the types of things so that +, - and * can be computed over
expressions.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="evalBaseNonneg"><span class="id" type="inductive">evalBaseNonneg</span></a> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="ebnDel"><span class="id" type="constructor">ebnDel</span></a> <span class="id" type="var">r</span> : <a class="idref" href="LanguageFoundations.html#evalBaseNonneg"><span class="id" type="inductive">evalBaseNonneg</span></a> (<a class="idref" href="LanguageFoundations.html#baseDelay"><span class="id" type="constructor">baseDelay</span></a> (<a class="idref" href="ComhBasics.html#mkDelay"><span class="id" type="constructor">mkDelay</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>)) (<a class="idref" href="StandardResults.html#posToNonneg"><span class="id" type="definition">posToNonneg</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>)<br/>
&nbsp;&nbsp;| <a name="ebnTime"><span class="id" type="constructor">ebnTime</span></a> <span class="id" type="var">r</span> : <a class="idref" href="LanguageFoundations.html#evalBaseNonneg"><span class="id" type="inductive">evalBaseNonneg</span></a> (<a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> (<a class="idref" href="ComhBasics.html#mkTime"><span class="id" type="constructor">mkTime</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>)) <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a><br/>
&nbsp;&nbsp;| <a name="ebnDistance"><span class="id" type="constructor">ebnDistance</span></a> <span class="id" type="var">r</span> : <a class="idref" href="LanguageFoundations.html#evalBaseNonneg"><span class="id" type="inductive">evalBaseNonneg</span></a> (<a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> (<a class="idref" href="ComhBasics.html#mkDistance"><span class="id" type="constructor">mkDistance</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>)) <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a><br/>
&nbsp;&nbsp;| <a name="ebnNonneg"><span class="id" type="constructor">ebnNonneg</span></a> <span class="id" type="var">r</span> : <a class="idref" href="LanguageFoundations.html#evalBaseNonneg"><span class="id" type="inductive">evalBaseNonneg</span></a> (<a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>) <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'\_/'_x"><span class="id" type="notation">"</span></a>b \_/ r" := (<a class="idref" href="LanguageFoundations.html#evalBaseNonneg"><span class="id" type="inductive">evalBaseNonneg</span></a> <span class="id" type="var">b</span> <span class="id" type="var">r</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 45).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="evalBaseNonneg_unique"><span class="id" type="lemma">evalBaseNonneg_unique</span></a> <span class="id" type="var">b</span> <span class="id" type="var">r1</span> <span class="id" type="var">r2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseDelay"><span class="id" type="constructor">baseDelay</span></a> (<a class="idref" href="ComhBasics.html#mkDelay"><span class="id" type="constructor">mkDelay</span></a> <span class="id" type="var">r</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="StandardResults.html#posToNonneg"><span class="id" type="definition">posToNonneg</span></a> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> (<a class="idref" href="ComhBasics.html#mkTime"><span class="id" type="constructor">mkTime</span></a> <span class="id" type="var">r</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> (<a class="idref" href="ComhBasics.html#mkDistance"><span class="id" type="constructor">mkDistance</span></a> <span class="id" type="var">r</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> <span class="id" type="var">r</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="evalBaseNonneg_rel_fun"><span class="id" type="lemma">evalBaseNonneg_rel_fun</span></a> <span class="id" type="var">b</span> <span class="id" type="var">r</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="evalBaseNonneg_fun_rel"><span class="id" type="lemma">evalBaseNonneg_fun_rel</span></a> <span class="id" type="var">b</span> <span class="id" type="var">r</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> |- ?<span class="id" type="var">f</span> ?<span class="id" type="var">x</span> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <span class="id" type="var">_</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">x</span> <span class="id" type="keyword">end</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">constructor</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="evalExp"><span class="id" type="inductive">evalExp</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="evalBase"><span class="id" type="constructor">evalBase</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>, <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a><br/>
&nbsp;&nbsp;| <a name="evalSub"><span class="id" type="constructor">evalSub</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) (<span class="id" type="var">r1</span> <span class="id" type="var">r2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> <a class="idref" href="StandardResults.html#::x_'-nn-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="StandardResults.html#::x_'-nn-'_x"><span class="id" type="notation">nn</span></a><a class="idref" href="StandardResults.html#::x_'-nn-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a>)<br/>
&nbsp;&nbsp;| <a name="evalAdd"><span class="id" type="constructor">evalAdd</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) (<span class="id" type="var">r1</span> <span class="id" type="var">r2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> <a class="idref" href="StandardResults.html#::x_'+nn+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="StandardResults.html#::x_'+nn+'_x"><span class="id" type="notation">nn</span></a><a class="idref" href="StandardResults.html#::x_'+nn+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a>)<br/>
&nbsp;&nbsp;| <a name="evalMult"><span class="id" type="constructor">evalMult</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) (<span class="id" type="var">r1</span> <span class="id" type="var">r2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#r1"><span class="id" type="variable">r1</span></a> <a class="idref" href="StandardResults.html#::x_'*nn*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="StandardResults.html#::x_'*nn*'_x"><span class="id" type="notation">nn</span></a><a class="idref" href="StandardResults.html#::x_'*nn*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#r2"><span class="id" type="variable">r2</span></a>)<br/>
&nbsp;&nbsp;| <a name="evalWait"><span class="id" type="constructor">evalWait</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">m1</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">m2</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">p</span> : <a class="idref" href="LanguageFoundations.html#m1"><span class="id" type="variable">m1</span></a> <a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">mtr</span></a><a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#m2"><span class="id" type="variable">m2</span></a>), <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#m1"><span class="id" type="variable">m1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#m2"><span class="id" type="variable">m2</span></a> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="ComhBasics.html#waitTime"><span class="id" type="definition">waitTime</span></a> <a class="idref" href="LanguageFoundations.html#m1"><span class="id" type="variable">m1</span></a> <a class="idref" href="LanguageFoundations.html#m2"><span class="id" type="variable">m2</span></a> <a class="idref" href="LanguageFoundations.html#p"><span class="id" type="variable">p</span></a>)<br/>
&nbsp;&nbsp;| <a name="evalPeriod"><span class="id" type="constructor">evalPeriod</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>), <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="ComhBasics.html#period"><span class="id" type="axiom">period</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a>)<br/>
&nbsp;&nbsp;| <a name="evalDist"><span class="id" type="constructor">evalDist</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">p1</span> <span class="id" type="var">p2</span> : <a class="idref" href="StandardResults.html#Position"><span class="id" type="record">Position</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#p1"><span class="id" type="variable">p1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#p2"><span class="id" type="variable">p2</span></a> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="ComhBasics.html#mkDistance"><span class="id" type="constructor">mkDistance</span></a> (<a class="idref" href="StandardResults.html#dist"><span class="id" type="definition">dist</span></a> <a class="idref" href="LanguageFoundations.html#p1"><span class="id" type="variable">p1</span></a> <a class="idref" href="LanguageFoundations.html#p2"><span class="id" type="variable">p2</span></a>))<br/>
&nbsp;&nbsp;| <a name="evalFailSafeSucc"><span class="id" type="constructor">evalFailSafeSucc</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> (<a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="ComhBasics.html#failSafeSucc"><span class="id" type="axiom">failSafeSucc</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a>).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'|_|'_x"><span class="id" type="notation">"</span></a>e |_| b" := (<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">b</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 50).<br/>

<br/>
</div>

<div class="doc">
Option map function for two arguments.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="optionMap2"><span class="id" type="definition">optionMap2</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> <span class="id" type="var">C</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">f</span> : <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#C"><span class="id" type="variable">C</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="LanguageFoundations.html#C"><span class="id" type="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <a class="idref" href="LanguageFoundations.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">g</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <span class="id" type="var">g</span> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A functional encoding of the evaluation relation as a partial function. The
proof that the two coincide is a separate issue! This function, due to its dealings
with the horrid option type, is quite ugly and hard to understand, but its advantage
is its computability. Once it is linked to the relation via proofs, it can be left as
an under the hood engine that "computes" the relation.
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="evalExpFun"><span class="id" type="definition">evalExpFun</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <span class="id" type="var">b</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b1</span>), (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> (<span class="id" type="var">r1</span> <a class="idref" href="StandardResults.html#::x_'-nn-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="StandardResults.html#::x_'-nn-'_x"><span class="id" type="notation">nn</span></a><a class="idref" href="StandardResults.html#::x_'-nn-'_x"><span class="id" type="notation">-</span></a> <span class="id" type="var">r2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b1</span>), (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> (<span class="id" type="var">r1</span> <a class="idref" href="StandardResults.html#::x_'+nn+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="StandardResults.html#::x_'+nn+'_x"><span class="id" type="notation">nn</span></a><a class="idref" href="StandardResults.html#::x_'+nn+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">r2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b1</span>), (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> (<span class="id" type="var">r1</span> <a class="idref" href="StandardResults.html#::x_'*nn*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="StandardResults.html#::x_'*nn*'_x"><span class="id" type="notation">nn</span></a><a class="idref" href="StandardResults.html#::x_'*nn*'_x"><span class="id" type="notation">*</span></a> <span class="id" type="var">r2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">b1</span>, <span class="id" type="var">b2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m1</span>, <a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> (<a class="idref" href="ComhBasics.html#waitTime"><span class="id" type="definition">waitTime</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>) (<a class="idref" href="ComhBasics.html#modeTransRelOpt"><span class="id" type="definition">modeTransRelOpt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> <span class="id" type="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e'</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> (<a class="idref" href="ComhBasics.html#period"><span class="id" type="axiom">period</span></a> <span class="id" type="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">b1</span>, <span class="id" type="var">b2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#basePosition"><span class="id" type="constructor">basePosition</span></a> <span class="id" type="var">p1</span>, <a class="idref" href="LanguageFoundations.html#basePosition"><span class="id" type="constructor">basePosition</span></a> <span class="id" type="var">p2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> ((<a class="idref" href="ComhBasics.html#mkDistance"><span class="id" type="constructor">mkDistance</span></a> (<a class="idref" href="StandardResults.html#dist"><span class="id" type="definition">dist</span></a> <span class="id" type="var">p1</span> <span class="id" type="var">p2</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> <span class="id" type="var">e'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e'</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> (<a class="idref" href="ComhBasics.html#failSafeSucc"><span class="id" type="axiom">failSafeSucc</span></a> <span class="id" type="var">m</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalBaseNonneg_rel_fun_step</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" type="var">V</span> : <span class="id" type="var">_</span> <a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">\</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'\_/'_x"><span class="id" type="notation">/</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalBaseNonneg_rel_fun"><span class="id" type="lemma">evalBaseNonneg_rel_fun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">V</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalBaseNonneg_rel_fun_tac</span> := <span class="id" type="tactic">repeat</span> <span class="id" type="var">evalBaseNonneg_rel_fun_step</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalBaseNonneg_fun_rel_step</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" type="var">V</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">V</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalBaseNonneg_fun_rel"><span class="id" type="lemma">evalBaseNonneg_fun_rel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">V</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalBaseNonneg_fun_rel_tac</span> := <span class="id" type="tactic">repeat</span> <span class="id" type="var">evalBaseNonneg_fun_rel_step</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
If e evaluates to b via the evaluation relation then it does so also by the evalution
function.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalExp</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalExp1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalExp2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">try</span><br/>
&nbsp;&nbsp;(<span class="id" type="var">evalBaseNonneg_rel_fun_tac</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="ComhBasics.html#modeTransRelOpt"><span class="id" type="definition">modeTransRelOpt</span></a>. <span class="id" type="tactic">destruct</span> (<a class="idref" href="ComhBasics.html#modeTransRelDec"><span class="id" type="axiom">modeTransRelDec</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.ProofIrrelevance.html#proof_irrelevance"><span class="id" type="axiom">proof_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">false</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If e evaluates to b via the evaluation function then it does so
also by the evalution relation.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>.<br/>
</div>

<div class="doc">
Subtract case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ev1</span>, <span class="id" type="var">ev2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">bv0</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">bv1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">bv0</span>, <span class="id" type="var">bv1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>]. <span class="id" type="var">evalBaseNonneg_fun_rel_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">econstructor</span>; [<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHe1</span>; <span class="id" type="tactic">reflexivity</span> |<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHe2</span>; <span class="id" type="tactic">reflexivity</span> | | ]; <span class="id" type="tactic">assumption</span>.<br/>
</div>

<div class="doc">
Add case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ev1</span>, <span class="id" type="var">ev2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">bv0</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">bv1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">bv0</span>, <span class="id" type="var">bv1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>]. <span class="id" type="var">evalBaseNonneg_fun_rel_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">econstructor</span>; [<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHe1</span>; <span class="id" type="tactic">reflexivity</span> |<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHe2</span>; <span class="id" type="tactic">reflexivity</span> | | ]; <span class="id" type="tactic">assumption</span>.<br/>
</div>

<div class="doc">
Multiply case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ev1</span>, <span class="id" type="var">ev2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">bv0</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">bv1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">bv0</span>, <span class="id" type="var">bv1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>]. <span class="id" type="var">evalBaseNonneg_fun_rel_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">econstructor</span>; [<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHe1</span>; <span class="id" type="tactic">reflexivity</span> |<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHe2</span>; <span class="id" type="tactic">reflexivity</span> | | ]; <span class="id" type="tactic">assumption</span>.<br/>
</div>

<div class="doc">
waitTime case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ev1</span>, <span class="id" type="var">ev2</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">b0</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b0</span>))).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe2</span> <span class="id" type="var">b1</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>))). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1</span> <span class="id" type="var">IHe2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>, <span class="id" type="var">b1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>]. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="ComhBasics.html#modeTransRelOpt"><span class="id" type="definition">modeTransRelOpt</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
</div>

<div class="doc">
period case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe</span> <span class="id" type="var">b0</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b0</span>))). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
</div>

<div class="doc">
distance case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ev1</span>, <span class="id" type="var">ev2</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">b0</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b0</span>))).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe2</span> <span class="id" type="var">b1</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>))). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1</span> <span class="id" type="var">IHe2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>, <span class="id" type="var">b1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>]. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
</div>

<div class="doc">
failSafeSucc case.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">ev</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">ev</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe</span> <span class="id" type="var">b0</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" type="constructor">eq_refl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b0</span>))). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A function that tries to evaluate the expression e into a time or fails.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="evalExpFunTime"><span class="id" type="definition">evalExpFunTime</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <span class="id" type="keyword">Time</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b</span> =&gt; <span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#evalBaseNonnegFun"><span class="id" type="definition">evalBaseNonnegFun</span></a> <span class="id" type="var">b</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">r</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="ComhBasics.html#mkTime"><span class="id" type="constructor">mkTime</span></a> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> <span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="evalElNil"><span class="id" type="constructor">evalElNil</span></a> : <a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a name="evalElCons"><span class="id" type="constructor">evalElCons</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> (<a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) (<a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="listBaselistExp"><span class="id" type="definition">listBaselistExp</span></a> (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="BoolExp"><span class="id" type="inductive">BoolExp</span></a> : <span class="id" type="keyword">Type</span> := <br/>
&nbsp;&nbsp;| <a name="bSufficient"><span class="id" type="constructor">bSufficient</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a><br/>
&nbsp;&nbsp;| <a name="bNot"><span class="id" type="constructor">bNot</span></a> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a><br/>
&nbsp;&nbsp;| <a name="bEqual"><span class="id" type="constructor">bEqual</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a><br/>
&nbsp;&nbsp;| <a name="bPossInc"><span class="id" type="constructor">bPossInc</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Equality is decidable on boolean expressions.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eqDecBoolExp"><span class="id" type="lemma">eqDecBoolExp</span></a> : <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a> <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x1</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">x2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e1</span>);<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">e2</span>); <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; [<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>; [<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>, <span class="id" type="var">H1</span>; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span> | <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">reflexivity</span>] | <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>]];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>]; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span><br/>
&nbsp;&nbsp;[<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHx1</span> <span class="id" type="var">x2</span>); <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; [<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">f_equal</span> | <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">reflexivity</span>]]. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e2</span>);<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">e3</span>); <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e4</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<span class="id" type="var">s</span> : <a class="idref" href="LanguageFoundations.html#Subst"><span class="id" type="definition">Subst</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <span class="id" type="var">b</span> =&gt; <a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> (<a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> =&gt; <a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e2</span>) (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <span class="id" type="var">e3</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="bevalSufficient"><span class="id" type="constructor">bevalSufficient</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">r</span> : <a class="idref" href="ComhBasics.html#Distance"><span class="id" type="record">Distance</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="ComhBasics.html#suffBool"><span class="id" type="definition">suffBool</span></a> <a class="idref" href="LanguageFoundations.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="LanguageFoundations.html#r"><span class="id" type="variable">r</span></a>)<br/>
&nbsp;&nbsp;| <a name="bevalNot"><span class="id" type="constructor">bevalNot</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#negb"><span class="id" type="definition">negb</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a name="bevalEqualTrue"><span class="id" type="constructor">bevalEqualTrue</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a name="bevalEqualFalse"><span class="id" type="constructor">bevalEqualFalse</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;| <a name="bevalPossInc"><span class="id" type="constructor">bevalPossInc</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Distance"><span class="id" type="record">Distance</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#m1"><span class="id" type="variable">m1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#m2"><span class="id" type="variable">m2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e3"><span class="id" type="variable">e3</span></a> <a class="idref" href="LanguageFoundations.html#d"><span class="id" type="variable">d</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e3"><span class="id" type="variable">e3</span></a>) (<a class="idref" href="ComhBasics.html#possIncBool"><span class="id" type="definition">possIncBool</span></a> <a class="idref" href="LanguageFoundations.html#m1"><span class="id" type="variable">m1</span></a> <a class="idref" href="LanguageFoundations.html#m2"><span class="id" type="variable">m2</span></a> <a class="idref" href="LanguageFoundations.html#d"><span class="id" type="variable">d</span></a>).<br/>

<br/>
</div>

<div class="doc">
A functional definition of the evaluation on boolean expressions.
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m</span>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> <span class="id" type="var">r</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="ComhBasics.html#suffBool"><span class="id" type="definition">suffBool</span></a> <span class="id" type="var">m</span> <span class="id" type="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <span class="id" type="var">b</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#negb"><span class="id" type="definition">negb</span></a> (<a class="idref" href="LanguageFoundations.html#evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b1</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#left"><span class="id" type="constructor">left</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#right"><span class="id" type="constructor">right</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e2</span>), (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e3</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m1</span>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">m2</span>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> <span class="id" type="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="ComhBasics.html#possIncBool"><span class="id" type="definition">possIncBool</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A total function for evaluating boolean expressions, which is identical to the
function evalBoolExpFun on well formed inputs, but differs in that it maps ill formed
inputs to false instead of None. This function will be used in the semantics since a
total 
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="evalBoolExpFunTot"><span class="id" type="definition">evalBoolExpFunTot</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">b</span> =&gt; <span class="id" type="var">b</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Sub-Languages syntax notations
</div>
<div class="code">
<span class="id" type="keyword">Notation</span> <a name="::x_'(-)'_x"><span class="id" type="notation">"</span></a>E1 (-) E2" := (<a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <span class="id" type="var">E1</span> <span class="id" type="var">E2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'(+)'_x"><span class="id" type="notation">"</span></a>E1 (+) E2" := (<a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <span class="id" type="var">E1</span> <span class="id" type="var">E2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'(.)'_x"><span class="id" type="notation">"</span></a>E1 (.) E2" := (<a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <span class="id" type="var">E1</span> <span class="id" type="var">E2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 29).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'=b='_x"><span class="id" type="notation">"</span></a>e1 =b= e2" := (<a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 20).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'|'_x_','_x_'|'"><span class="id" type="notation">"</span></a>| e1 , e2 |" := (<a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::'!~'_x"><span class="id" type="notation">"</span></a>!~ b" := (<a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <span class="id" type="var">b</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 25).<br/>

<br/>
</div>

<div class="doc">
The evaluation relation on expressions is a partial function i.e.
every expression evaluates to at most one value.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalExpUnique"><span class="id" type="lemma">evalExpUnique</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="evalBoolExpRelFun"><span class="id" type="lemma">evalBoolExpRelFun</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>, <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalBoolExp</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>, <span class="id" type="var">H0</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b</span> <span class="id" type="var">b</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>, <span class="id" type="var">H0</span>. <span class="id" type="tactic">destruct</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>, <span class="id" type="var">H0</span>, <span class="id" type="var">H1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Bool.Bool.html#"><span class="id" type="library">Bool</span></a>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="evalBoolExpFunRel"><span class="id" type="lemma">evalBoolExpFunRel</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">intros</span>.<br/>
</div>

<div class="doc">
bSufficient case
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>, <span class="id" type="var">v2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>, <span class="id" type="var">b1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>, <span class="id" type="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
</div>

<div class="doc">
bNot case
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Bool.Bool.html#negb_involutive_reverse"><span class="id" type="lemma">negb_involutive_reverse</span></a>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHe</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Bool.Bool.html#negb_sym"><span class="id" type="lemma">negb_sym</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
</div>

<div class="doc">
Equality case
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>, <span class="id" type="var">Heqv2</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>, <span class="id" type="var">v2</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b0</span> <span class="id" type="var">b1</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">destruct</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b0</span> <span class="id" type="var">b1</span>); <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#bevalEqualTrue"><span class="id" type="constructor">bevalEqualTrue</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqv1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#bevalEqualFalse"><span class="id" type="constructor">bevalEqualFalse</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqv1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
</div>

<div class="doc">
bPossInc case
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">v3</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">v1</span>, <span class="id" type="var">v2</span>, <span class="id" type="var">v3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>, <span class="id" type="var">b1</span>, <span class="id" type="var">b2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>, <span class="id" type="var">Heqv2</span>, <span class="id" type="var">Heqv3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqv3</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>, <span class="id" type="var">b1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The evaluation relation on boolean expressions is a partial function i.e.
every expression evaluates to at most one boolean.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalBoolExpUnique"><span class="id" type="lemma">evalBoolExpUnique</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">b1</span> <span class="id" type="var">b2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" type="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#b2"><span class="id" type="variable">b2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpRelFun"><span class="id" type="lemma">evalBoolExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpRelFun"><span class="id" type="lemma">evalBoolExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If the evaluation of the bool exp function is true, then the total function will
evaluate to true, and vice versa.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalBoolExpTrueTot"><span class="id" type="lemma">evalBoolExpTrueTot</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalBoolExp"><span class="id" type="inductive">evalBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#evalBoolExpFunTot"><span class="id" type="definition">evalBoolExpFunTot</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpRelFun"><span class="id" type="lemma">evalBoolExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpFunTot"><span class="id" type="definition">evalBoolExpFunTot</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpFunTot"><span class="id" type="definition">evalBoolExpFunTot</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalBoolExpFun"><span class="id" type="definition">evalBoolExpFun</span></a> <span class="id" type="var">e</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalBoolExpFunRel"><span class="id" type="lemma">evalBoolExpFunRel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="DiscAct"><span class="id" type="inductive">DiscAct</span></a> :=<br/>
&nbsp;&nbsp;| <a name="inAct"><span class="id" type="constructor">inAct</span></a> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a><br/>
&nbsp;&nbsp;| <a name="outAct"><span class="id" type="constructor">outAct</span></a> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a><br/>
&nbsp;&nbsp;| <a name="tauAct"><span class="id" type="constructor">tauAct</span></a> : <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'*?'"><span class="id" type="notation">"</span></a>c *?" := (<a class="idref" href="LanguageFoundations.html#inAct"><span class="id" type="constructor">inAct</span></a> <span class="id" type="var">c</span> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'*!'"><span class="id" type="notation">"</span></a>c *!" := (<a class="idref" href="LanguageFoundations.html#outAct"><span class="id" type="constructor">outAct</span></a> <span class="id" type="var">c</span> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_';?'_x"><span class="id" type="notation">"</span></a>c ;? v" := (<a class="idref" href="LanguageFoundations.html#inAct"><span class="id" type="constructor">inAct</span></a> <span class="id" type="var">c</span> <span class="id" type="var">v</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_';!'_x"><span class="id" type="notation">"</span></a>c ;! v" := (<a class="idref" href="LanguageFoundations.html#outAct"><span class="id" type="constructor">outAct</span></a> <span class="id" type="var">c</span> <span class="id" type="var">v</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>

<br/>
</div>

<div class="doc">
The complement function converts inputs to outputs and vice versa.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="complement"><span class="id" type="definition">complement</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a>) : <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">c</span> <a class="idref" href="LanguageFoundations.html#::x_';?'_x"><span class="id" type="notation">;?</span></a> <span class="id" type="var">v</span> =&gt; <span class="id" type="var">c</span> <a class="idref" href="LanguageFoundations.html#::x_';!'_x"><span class="id" type="notation">;!</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">c</span> <a class="idref" href="LanguageFoundations.html#::x_';!'_x"><span class="id" type="notation">;!</span></a> <span class="id" type="var">v</span> =&gt; <span class="id" type="var">c</span> <a class="idref" href="LanguageFoundations.html#::x_';?'_x"><span class="id" type="notation">;?</span></a> <span class="id" type="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#tauAct"><span class="id" type="constructor">tauAct</span></a> =&gt; <a class="idref" href="LanguageFoundations.html#tauAct"><span class="id" type="constructor">tauAct</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'^'"><span class="id" type="notation">"</span></a>a ^" := (<a class="idref" href="LanguageFoundations.html#complement"><span class="id" type="definition">complement</span></a> <span class="id" type="var">a</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 25).<br/>

<br/>
</div>

<div class="doc">
The complement function cancels itself out.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="complementInvol"><span class="id" type="lemma">complementInvol</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a>) : <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="LanguageFoundations.html#::x_'^'"><span class="id" type="notation">^^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="complementNotTau"><span class="id" type="lemma">complementNotTau</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a>) : <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#tauAct"><span class="id" type="constructor">tauAct</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="LanguageFoundations.html#::x_'^'"><span class="id" type="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#tauAct"><span class="id" type="constructor">tauAct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="evalExpRelFunEquiv"><span class="id" type="lemma">evalExpRelFunEquiv</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>. <span class="id" type="tactic">split</span>;<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> | <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a>]. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalExp_rel_fun_step</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" type="var">V</span> : <span class="id" type="var">_</span> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">V</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalExp_rel_fun_tac</span> := <span class="id" type="tactic">repeat</span> <span class="id" type="var">evalExp_rel_fun_step</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalExp_fun_rel_step</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;[<span class="id" type="var">V</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">V</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">V</span> <span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">evalExp_fun_rel_tac</span> := <span class="id" type="tactic">repeat</span> <span class="id" type="var">evalExp_fun_rel_step</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="evalExp_evalExpFunTime"><span class="id" type="lemma">evalExp_evalExpFunTime</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#t"><span class="id" type="variable">t</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExpFunTime"><span class="id" type="definition">evalExpFunTime</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#t"><span class="id" type="variable">t</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#evalExpFunTime"><span class="id" type="definition">evalExpFunTime</span></a>; <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">evalExp_rel_fun_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#evalExpFunTime"><span class="id" type="definition">evalExpFunTime</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>, <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="ComhBasics.html#modeTransRelOpt"><span class="id" type="definition">modeTransRelOpt</span></a> <span class="id" type="var">m1</span> <span class="id" type="var">m2</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">o</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">injection</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">evalExp_rel_fun_tac</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#evalExpFunTime"><span class="id" type="definition">evalExpFunTime</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
For every natural number, there is a list of base
expressions whose length is the length of that natural number. The existential witness
used here is simply <span class="inlinecode">0,</span> <span class="inlinecode">0,</span> <span class="inlinecode">0,</span> <span class="inlinecode">...</span>, the list of all zero times.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="baseListEx"><span class="id" type="lemma">baseListEx</span></a> (<span class="id" type="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" type="inductive">nat</span></a>) : <span class="id" type="notation">exists</span> <span class="id" type="var">v</span><span class="id" type="notation">,</span> @<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> <span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#n"><span class="id" type="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">exists</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#nil"><span class="id" type="abbreviation">nil</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>). <span class="id" type="tactic">reflexivity</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">IHn</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">x</span>). <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If one list evaluated to another, then the lengths
match.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="evalExpListsLength"><span class="id" type="lemma">evalExpListsLength</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <span class="id" type="keyword">forall</span> (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Evaluation on expressions is decidable.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="evalExpDec"><span class="id" type="lemma">evalExpDec</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<a class="idref" href="LanguageFoundations.html#evalExp"><span class="id" type="inductive">evalExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">o</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b</span> <span class="id" type="var">b0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqo</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Evaluation on lists of expressions is decidable.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="evalExpListsDec"><span class="id" type="lemma">evalExpListsDec</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>). <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">l'</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#evalExpDec"><span class="id" type="lemma">evalExpDec</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHl</span> <span class="id" type="var">l'</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A functional version of eval exp for lists.
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="evalExpListsFun"><span class="id" type="definition">evalExpListsFun</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">l</span> =&gt; <a class="idref" href="LanguageFoundations.html#optionMap2"><span class="id" type="definition">optionMap2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#cons"><span class="id" type="abbreviation">cons</span></a> (<span class="id" type="var">A</span> := <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>)) (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#evalExpListsFun"><span class="id" type="definition">evalExpListsFun</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The evaluation function on lists implies the relation.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalExpListsFunRel"><span class="id" type="lemma">evalExpListsFunRel</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <span class="id" type="keyword">forall</span> (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExpListsFun"><span class="id" type="definition">evalExpListsFun</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpListsFun"><span class="id" type="definition">evalExpListsFun</span></a> <span class="id" type="var">l</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#optionMap2"><span class="id" type="definition">optionMap2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#optionMap2"><span class="id" type="definition">optionMap2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#optionMap2"><span class="id" type="definition">optionMap2</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The evaluation relation on lists implies the function.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="evalExpListsRelFun"><span class="id" type="lemma">evalExpListsRelFun</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <span class="id" type="keyword">forall</span> (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#evalExpListsFun"><span class="id" type="definition">evalExpListsFun</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#optionMap2"><span class="id" type="definition">optionMap2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option_map"><span class="id" type="definition">option_map</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpFun"><span class="id" type="definition">evalExpFun</span></a> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#evalExpUnique"><span class="id" type="lemma">evalExpUnique</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#evalExpFunRel"><span class="id" type="lemma">evalExpFunRel</span></a>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpRelFun"><span class="id" type="lemma">evalExpRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqo</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
l either evaluates to something or not.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="evalExpListsExDec"><span class="id" type="lemma">evalExpListsExDec</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">l'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">)}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:x_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:x_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><span class="id" type="notation">exists</span> <span class="id" type="var">l'</span><span class="id" type="notation">,</span> <span class="id" type="notation">(</span><a class="idref" href="LanguageFoundations.html#evalExpLists"><span class="id" type="inductive">evalExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="var">l'</span><span class="id" type="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:x_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#evalExpListsFun"><span class="id" type="definition">evalExpListsFun</span></a> <span class="id" type="var">l</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">o</span>; [<span class="id" type="tactic">left</span> | <span class="id" type="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpListsFunRel"><span class="id" type="lemma">evalExpListsFunRel</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">l0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#evalExpListsRelFun"><span class="id" type="lemma">evalExpListsRelFun</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqo</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If f updated by x onto y is applied to x, then the result is y.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="updateAppEq"><span class="id" type="lemma">updateAppEq</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="LanguageFoundations.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#update"><span class="id" type="definition">update</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If f updated by x to y is applied to z and z is not equal to x, then the
result is (f z).
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>) (<span class="id" type="var">f</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="var">x</span> <span class="id" type="var">z</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#z"><span class="id" type="variable">z</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#update"><span class="id" type="definition">update</span></a> <a class="idref" href="LanguageFoundations.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="LanguageFoundations.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="LanguageFoundations.html#z"><span class="id" type="variable">z</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#update"><span class="id" type="definition">update</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">z</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lift a variable to a list of variables.
</div>
<div class="code">
<span class="id" type="keyword">Coercion</span> <span class="id" type="var">liftVarList</span> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> := <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lift an expression to a list of expressions.
</div>
<div class="code">
<span class="id" type="keyword">Coercion</span> <span class="id" type="var">liftExpList</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> := <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>.<br/>

<br/>
<span class="id" type="keyword">Coercion</span> <span class="id" type="var">liftTimeExp</span> (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>) : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> := <a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> (<a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> <a class="idref" href="LanguageFoundations.html#t"><span class="id" type="variable">t</span></a>).<br/>

<br/>
</div>

<div class="doc">
Lift a list of variables to a list of expressions.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="liftListVarExp"><span class="id" type="definition">liftListVarExp</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#"><span class="id" type="library">FunctionalExtensionality</span></a>.<br/>

<br/>
</div>

<div class="doc">
The substitution of l -&gt; liftListVarExp l is equal to the identity substitution.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="listSubRefl"><span class="id" type="lemma">listSubRefl</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#liftListVarExp"><span class="id" type="definition">liftListVarExp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="listSubNormal"><span class="id" type="lemma">listSubNormal</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">{</span></a><span class="id" type="var">l'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <span class="id" type="var">l'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#length"><span class="id" type="definition">length</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_':'_x_'|'_x_'}'"><span class="id" type="notation">}</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#nil"><span class="id" type="abbreviation">nil</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>.<br/>
</div>

<div class="doc">
In the case where target list is empty, the equivalent substitution is just
   the source list.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="LanguageFoundations.html#liftListVarExp"><span class="id" type="definition">liftListVarExp</span></a> (<span class="id" type="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">x</span>)). <span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#map_length"><span class="id" type="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#listSubRefl"><span class="id" type="lemma">listSubRefl</span></a>). <span class="id" type="tactic">reflexivity</span>.<br/>
</div>

<div class="doc">
In the case where the target list is not empty, we can proceed by induction.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHx</span> <span class="id" type="var">l</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHx</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">X</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">x0</span> <span class="id" type="var">into</span> <span class="id" type="var">l'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">l'</span>). <span class="id" type="tactic">split</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="idSubExp"><span class="id" type="lemma">idSubExp</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHe1</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHe2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHe</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHe</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="idSubList"><span class="id" type="lemma">idSubList</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">a</span>). <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="idSubBoolExp"><span class="id" type="lemma">idSubBoolExp</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e0</span>). <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHb</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e0</span>). <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e1</span>). <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="var">e</span>). <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="resetPreservesId"><span class="id" type="lemma">resetPreservesId</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">extensionality</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">destruct</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">x</span>); <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::'('_x_','_x_')'"><span class="id" type="notation">"</span></a>( a , b )" := (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#pair"><span class="id" type="constructor">pair</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span>).<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="splitSrc"><span class="id" type="definition">splitSrc</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="splitTgt"><span class="id" type="definition">splitTgt</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <a class="idref" href="LanguageFoundations.html#Subst"><span class="id" type="definition">Subst</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) (<a class="idref" href="LanguageFoundations.html#splitTgt"><span class="id" type="definition">splitTgt</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
</div>

<div class="doc">
A characterisation of the application of a substitution based on
a bindings list to a variable, which bypasses the conversion to a substitution.
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="bindApp"><span class="id" type="definition">bindApp</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">y</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">l'</span> =&gt; <span class="id" type="keyword">if</span> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">y</span> <span class="id" type="keyword">then</span> <span class="id" type="var">e</span> <span class="id" type="keyword">else</span> <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <span class="id" type="var">l'</span> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#update"><span class="id" type="definition">update</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#splitTgt"><span class="id" type="definition">splitTgt</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <span class="id" type="var">l</span>). <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Proof that the bindApp function is correct w.r.t. the substitution conversion.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
(x, e) is the first occurrence of a map of x in l if there is no
(x, e') preceding it in the list.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="firstOcc"><span class="id" type="inductive">firstOcc</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="fstocHd"><span class="id" type="constructor">fstocHd</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>)<br/>
&nbsp;&nbsp;| <a name="fstocTl"><span class="id" type="constructor">fstocTl</span></a> (<span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <span class="id" type="var">x</span> <span class="id" type="var">e</span> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_unique"><span class="id" type="lemma">firstOcc_unique</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHfirstOcc</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">)</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <span class="id" type="var">x</span>). <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="splitSrc_firstOcc_ex"><span class="id" type="lemma">splitSrc_firstOcc_ex</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <span class="id" type="notation">exists</span> <span class="id" type="var">e</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="var">e</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">elim</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">IHl</span> <span class="id" type="var">H0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x0</span>. <span class="id" type="tactic">constructor</span>;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A preorder on binding lists that puts one list before the other if the latter
agrees with the former on all variables in the source of the former.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="preordBindList"><span class="id" type="definition">preordBindList</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>), <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'<[]'_x"><span class="id" type="notation">"</span></a>l1 &lt;[] l2" := (<a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 70).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_emp"><span class="id" type="lemma">preord_emp</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The preorder that has been defined is reflexive.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="preordBindList_refl"><span class="id" type="lemma">preordBindList_refl</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="incl_hd_eq"><span class="id" type="lemma">incl_hd_eq</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> (<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) (<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_cons"><span class="id" type="lemma">in_cons</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If one binding list is less than another according to the preorder,
then the source of the former is contained in the source of the latter
according to incl.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="pre_incl_splitSrc"><span class="id" type="lemma">pre_incl_splitSrc</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#splitSrc_firstOcc_ex"><span class="id" type="lemma">splitSrc_firstOcc_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The preorder that has been defined is transitive.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l3</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Gives back a list whose elements are those of l minus the ones containing a
variable from l'.
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">ls</span> =&gt; <span class="id" type="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>) <span class="id" type="keyword">then</span> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">ls</span> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">else</span> <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">ls</span> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The source of l with l' excluded is included within the source of l.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="excludeSrc_incl"><span class="id" type="lemma">excludeSrc_incl</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>)) (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>). <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl_refl"><span class="id" type="lemma">incl_refl</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl_tl"><span class="id" type="lemma">incl_tl</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl_cons"><span class="id" type="lemma">incl_cons</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl_tl"><span class="id" type="lemma">incl_tl</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_inter_nil"><span class="id" type="lemma">set_inter_nil</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">p</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" type="definition">set_inter</span></a> <a class="idref" href="LanguageFoundations.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="excludeSrc_inter_emp"><span class="id" type="lemma">excludeSrc_inter_emp</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" type="definition">set_inter</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>)) <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" type="definition">set_inter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_mem_complete2"><span class="id" type="lemma">set_mem_complete2</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l'</span> <span class="id" type="var">n</span>). <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="exclude_nil"><span class="id" type="lemma">exclude_nil</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="exclude_in_splitSrc"><span class="id" type="lemma">exclude_in_splitSrc</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="pre_notIn_cons"><span class="id" type="lemma">pre_notIn_cons</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">H2</span> <span class="id" type="var">into</span> <span class="id" type="var">Q</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="exclude_preord"><span class="id" type="lemma">exclude_preord</span></a> (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l'</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assert</span> (<span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <span class="id" type="var">v</span>). <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#exclude_in_splitSrc"><span class="id" type="lemma">exclude_in_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">i</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">eapply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">constructor</span>;[|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_exclude"><span class="id" type="lemma">preord_exclude</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#exclude_preord"><span class="id" type="lemma">exclude_preord</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="exclude_firstOcc"><span class="id" type="lemma">exclude_firstOcc</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><span class="id" type="var">x</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <span class="id" type="var">l2</span>). <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#exclude_in_splitSrc"><span class="id" type="lemma">exclude_in_splitSrc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l2</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">constructor</span>;[|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_notIn_exclude"><span class="id" type="lemma">firstOcc_notIn_exclude</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l2</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_cons_excl"><span class="id" type="lemma">preord_cons_excl</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><span class="id" type="var">x</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">v</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#exclude_in_splitSrc"><span class="id" type="lemma">exclude_in_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#exclude_firstOcc"><span class="id" type="lemma">exclude_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If (v, e) is the first occurrence of v in l1, then the question of whether l1
is less than l2 by the preorder is the same as the question as to whether l1 with
v excluded is less than l2.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="fst_pre_cons_excl"><span class="id" type="lemma">fst_pre_cons_excl</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_cons_excl"><span class="id" type="lemma">preord_cons_excl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">v</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>;[|<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">e0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_unique"><span class="id" type="lemma">firstOcc_unique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_notIn_exclude"><span class="id" type="lemma">firstOcc_notIn_exclude</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_src_ex_firstOcc"><span class="id" type="lemma">in_src_ex_firstOcc</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <span class="id" type="notation">exists</span> <span class="id" type="var">e</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <span class="id" type="var">e</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">elim</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_src_cons_eq"><span class="id" type="lemma">notIn_src_cons_eq</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="dec_preordBindList"><span class="id" type="lemma">dec_preordBindList</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_emp"><span class="id" type="lemma">preord_emp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <span class="id" type="var">v</span> <span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>). <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l1</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_src_ex_firstOcc"><span class="id" type="lemma">in_src_ex_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">x</span> <span class="id" type="var">into</span> <span class="id" type="var">e'</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#fst_pre_cons_excl"><span class="id" type="lemma">fst_pre_cons_excl</span></a>;[|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl2</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#notIn_src_cons_eq"><span class="id" type="lemma">notIn_src_cons_eq</span></a>;[|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl2</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="idBindList"><span class="id" type="definition">idBindList</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">a</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">xs</span> =&gt; <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <span class="id" type="var">a</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <span class="id" type="var">xs</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="idBindList_idSub"><span class="id" type="lemma">idBindList_idSub</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <span class="id" type="var">x</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heql</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heql</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heql</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">IHx</span> <span class="id" type="var">l</span> <span class="id" type="var">H1</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHx</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The source of the identity bindings list built from x is itself x.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="srcIdBindList"><span class="id" type="lemma">srcIdBindList</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_emp_eq"><span class="id" type="lemma">preord_emp_eq</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a><a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <span class="id" type="var">v</span> <span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bindApp_cons_eq"><span class="id" type="lemma">bindApp_cons_eq</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bindApp_cons_neq"><span class="id" type="lemma">bindApp_cons_neq</span></a> (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">y</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_eq"><span class="id" type="lemma">bindApp_cons_eq</span></a>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">IHfirstOcc</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_neq"><span class="id" type="lemma">bindApp_cons_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_cons_eq"><span class="id" type="lemma">firstOcc_cons_eq</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="excl_cons"><span class="id" type="lemma">excl_cons</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l2</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#excl_cons"><span class="id" type="lemma">excl_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_eq"><span class="id" type="lemma">bindApp_cons_eq</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l2</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_neq"><span class="id" type="lemma">bindApp_cons_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_splitSrc_excl"><span class="id" type="lemma">in_splitSrc_excl</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If l1 &lt;<font size=-2>&#9744;</font> l2 then the substitutions generated by l1 and l2 are equivalent
for all variables in the source of l1.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="preord_subst"><span class="id" type="lemma">preord_subst</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_emp_eq"><span class="id" type="lemma">preord_emp_eq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_eq"><span class="id" type="lemma">bindApp_cons_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_src_ex_firstOcc"><span class="id" type="lemma">in_src_ex_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_cons_eq"><span class="id" type="lemma">firstOcc_cons_eq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_neq"><span class="id" type="lemma">bindApp_cons_neq</span></a>;[|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_cons_excl"><span class="id" type="lemma">preord_cons_excl</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a> <span class="id" type="var">x</span> <span class="id" type="var">l1</span> <span class="id" type="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_splitSrc_excl"><span class="id" type="lemma">in_splitSrc_excl</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Takes the binding list l and restricts its source to x, preserving any
bindings of l based in x and acting as the identity otherwise.
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="restrictSrc"><span class="id" type="definition">restrictSrc</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">a</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">xs</span> =&gt; <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">a</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a>(<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <span class="id" type="var">a</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">))</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="var">xs</span><a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The source of the restrict source function is actually correct.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="restrictSrc_in"><span class="id" type="lemma">restrictSrc_in</span></a> (<span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intro</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H0</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">y</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="listSub_notIn"><span class="id" type="lemma">listSub_notIn</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l'</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">l'</span>; <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">l'</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_cons"><span class="id" type="lemma">in_cons</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If the source of l is included in x, then restricting l to x will yield a binding list
whose corresponding substitution is the same as that of l.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="restrictSrc_incl_subEq"><span class="id" type="lemma">restrictSrc_incl_subEq</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_in"><span class="id" type="lemma">restrictSrc_in</span></a>;[<span class="id" type="tactic">reflexivity</span>|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#listSub_notIn"><span class="id" type="lemma">listSub_notIn</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#listSub_notIn"><span class="id" type="lemma">listSub_notIn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="inVarList_in"><span class="id" type="lemma">inVarList_in</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_cons"><span class="id" type="lemma">in_cons</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_inter_exclude"><span class="id" type="lemma">preord_inter_exclude</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" type="definition">set_inter</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_notIn_exclude"><span class="id" type="lemma">firstOcc_notIn_exclude</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="ComhBasics.html#set_inter_nil_in1"><span class="id" type="lemma">set_inter_nil_in1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="joinBindList"><span class="id" type="definition">joinBindList</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="joinBindList_symm"><span class="id" type="lemma">joinBindList_symm</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="dec_joinBindList"><span class="id" type="lemma">dec_joinBindList</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#dec_preordBindList"><span class="id" type="lemma">dec_preordBindList</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l</span>). <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#dec_preordBindList"><span class="id" type="lemma">dec_preordBindList</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Normalise the list l, by removing all redundant pairs (x, e) that are
preceded in the list, and thus overwritten, by (x, e').
</div>
<div class="code">
<span class="id" type="keyword">Fixpoint</span> <a name="normBindList"><span class="id" type="definition">normBindList</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">l'</span> =&gt; <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">x</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> <span class="id" type="var">l'</span>) <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">x</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="src_norm_in_equiv"><span class="id" type="lemma">src_norm_in_equiv</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">Q</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">Q</span>; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>; (<span class="id" type="tactic">elim</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intro</span>; [<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">assumption</span> |]). <span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">IHl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#excludeSrc_incl"><span class="id" type="lemma">excludeSrc_incl</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_splitSrc_excl"><span class="id" type="lemma">in_splitSrc_excl</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="norm_sub_equiv"><span class="id" type="lemma">norm_sub_equiv</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>; <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_eq"><span class="id" type="lemma">bindApp_cons_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><span class="id" type="var">x</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">v</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>). <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_cons_neq"><span class="id" type="lemma">bindApp_cons_neq</span></a>;[|<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">(</span></a><span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>, <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">)</span></a>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#pre_incl_splitSrc"><span class="id" type="lemma">pre_incl_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_src_ex_firstOcc"><span class="id" type="lemma">in_src_ex_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> (<a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>);[|<span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_src_ex_firstOcc"><span class="id" type="lemma">in_src_ex_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">x0</span> <span class="id" type="var">into</span> <span class="id" type="var">e'</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">e</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">e'</span>). <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_norm"><span class="id" type="lemma">preord_norm</span></a> (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>;[<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#src_norm_in_equiv"><span class="id" type="lemma">src_norm_in_equiv</span></a>; <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#norm_sub_equiv"><span class="id" type="lemma">norm_sub_equiv</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#src_norm_in_equiv"><span class="id" type="lemma">src_norm_in_equiv</span></a>; <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#norm_sub_equiv"><span class="id" type="lemma">norm_sub_equiv</span></a>];(<span class="id" type="tactic">split</span>;<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">assumption</span>|<span class="id" type="tactic">reflexivity</span>]). <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
lubBindList l l1 l2 roughly means that l is a least upper bound
for bind lists l1 and l2.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="lubBindList"><span class="id" type="inductive">lubBindList</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="lubbl"><span class="id" type="constructor">lubbl</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="lubPreordFst"><span class="id" type="lemma">lubPreordFst</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="lubPreordSnd"><span class="id" type="lemma">lubPreordSnd</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The existence of a least upper bound for any pair of binding lists is
a decidable property.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<span class="id" type="notation">exists</span> <span class="id" type="var">l</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <span class="id" type="var">l</span> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#dec_joinBindList"><span class="id" type="lemma">dec_joinBindList</span></a> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)) <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_bindList_id"><span class="id" type="lemma">notIn_bindList_id</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="excludeSrc_in_cons_eq"><span class="id" type="lemma">excludeSrc_in_cons_eq</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>))<br/>
&nbsp;&nbsp;(<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l2</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="append_firstOcc"><span class="id" type="lemma">append_firstOcc</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_append"><span class="id" type="lemma">firstOcc_append</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="lubBindList_pre_join"><span class="id" type="lemma">lubBindList_pre_join</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)<a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preord_norm"><span class="id" type="lemma">preord_norm</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>;[<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span> |].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#append_firstOcc"><span class="id" type="lemma">append_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#exclude_firstOcc"><span class="id" type="lemma">exclude_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_exclude_append"><span class="id" type="lemma">firstOcc_exclude_append</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">cut</span> (<span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <span class="id" type="var">v</span>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">constructor</span>;[|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="join_firstOcc_eq"><span class="id" type="lemma">join_firstOcc_eq</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_unique"><span class="id" type="lemma">firstOcc_unique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <span class="id" type="notation">exists</span> <span class="id" type="var">l'</span><span class="id" type="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <span class="id" type="var">l'</span> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <span class="id" type="var">l'</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="LanguageFoundations.html#normBindList"><span class="id" type="definition">normBindList</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>;[|<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#lubBindList_pre_join"><span class="id" type="lemma">lubBindList_pre_join</span></a>;<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preord_norm"><span class="id" type="lemma">preord_norm</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">split</span>;<br/>
&nbsp;&nbsp;(<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>;[|<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>)). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#splitSrc_firstOcc_ex"><span class="id" type="lemma">splitSrc_firstOcc_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_exclude_append"><span class="id" type="lemma">firstOcc_exclude_append</span></a>. <span class="id" type="tactic">rename</span> <span class="id" type="var">x0</span> <span class="id" type="var">into</span> <span class="id" type="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">e</span> <span class="id" type="keyword">with</span> <span class="id" type="var">e'</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#join_firstOcc_eq"><span class="id" type="lemma">join_firstOcc_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_append"><span class="id" type="lemma">firstOcc_append</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_notIn_exclude"><span class="id" type="lemma">firstOcc_notIn_exclude</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_exclude_append"><span class="id" type="lemma">firstOcc_exclude_append</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a substitution based on a list l is reset on the list of variables x, and none
of these variables of x is in the source of l, then the substitution remains unchanged
after the reset operation.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="reset_id"><span class="id" type="lemma">reset_id</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_inter"><span class="id" type="definition">set_inter</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_bindList_id"><span class="id" type="lemma">notIn_bindList_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="ComhBasics.html#set_inter_nil_in2"><span class="id" type="lemma">set_inter_nil_in2</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#inVarList_in"><span class="id" type="lemma">inVarList_in</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="exclude_reset"><span class="id" type="lemma">exclude_reset</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#reset_id"><span class="id" type="lemma">reset_id</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">Heqs</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#inVarList_in"><span class="id" type="lemma">inVarList_in</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">i</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">clear</span> <span class="id" type="var">Heqs</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#inVarList_in"><span class="id" type="lemma">inVarList_in</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A characterisation of the matching problem for expressions. This says that
the e1 is equal to the e2 with the substitution l applied.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="matchExp"><span class="id" type="inductive">matchExp</span></a> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="meVar"><span class="id" type="constructor">meVar</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) (<a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>)<br/>
&nbsp;&nbsp;| <a name="meBase"><span class="id" type="constructor">meBase</span></a> (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#Base"><span class="id" type="inductive">Base</span></a>) : <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a name="meSub"><span class="id" type="constructor">meSub</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="meAdd"><span class="id" type="constructor">meAdd</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="meMult"><span class="id" type="constructor">meMult</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="meWaitTime"><span class="id" type="constructor">meWaitTime</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="mePeriod"><span class="id" type="constructor">mePeriod</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="meDist"><span class="id" type="constructor">meDist</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="meFailSafeSucc"><span class="id" type="constructor">meFailSafeSucc</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e</span> <span class="id" type="var">e'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>) (<a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> <a class="idref" href="LanguageFoundations.html#e'"><span class="id" type="variable">e'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
There is at most one "minimal" solution to the matching problem for expressions,
as characterised by the matchExp relation.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l2</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>|];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">l1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l4</span>; [<span class="id" type="tactic">replace</span> <span class="id" type="var">l2</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l5</span>;[<span class="id" type="tactic">assumption</span>|]|];<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">eapply</span> <span class="id" type="var">IHmatchExp2</span>; <span class="id" type="tactic">assumption</span> | <span class="id" type="tactic">symmetry</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExp1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>]); <span class="id" type="tactic">try</span> (<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">reflexivity</span>); <span class="id" type="tactic">try</span><br/>
&nbsp;&nbsp;(<span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExp</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">assumption</span>). <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<span class="id" type="notation">exists</span> <span class="id" type="var">l</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <span class="id" type="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">swap</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span>. <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">e2</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> (<a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">v</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e2</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>); <span class="id" type="tactic">constructor</span>]; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>];<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1_1</span> <span class="id" type="var">e2_1</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1_1</span>; <span class="id" type="tactic">rename</span> <span class="id" type="var">H</span> <span class="id" type="var">into</span> <span class="id" type="var">Q1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1_2</span> <span class="id" type="var">e2_2</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1_2</span>; <span class="id" type="tactic">rename</span> <span class="id" type="var">H</span> <span class="id" type="var">into</span> <span class="id" type="var">Q2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">Q1</span>;[<span class="id" type="var">invertClear</span> <span class="id" type="var">Q2</span>;<br/>
&nbsp;&nbsp;[<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>; <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>);<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>;[<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">left</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>;<br/>
&nbsp;&nbsp;(<span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#meSub"><span class="id" type="constructor">meSub</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#meAdd"><span class="id" type="constructor">meAdd</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#meMult"><span class="id" type="constructor">meMult</span></a>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#meWaitTime"><span class="id" type="constructor">meWaitTime</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#meDist"><span class="id" type="constructor">meDist</span></a>);<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> | <span class="id" type="tactic">assumption</span>] |<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intro</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l1</span>; [<span class="id" type="tactic">replace</span> <span class="id" type="var">x0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>; [<span class="id" type="tactic">assumption</span><br/>
&nbsp;&nbsp;| <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H10</span> | <span class="id" type="tactic">assumption</span>] ]<br/>
&nbsp;&nbsp;| <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span> | <span class="id" type="tactic">assumption</span>]] ]<br/>
&nbsp;&nbsp;| <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">assumption</span> ]<br/>
&nbsp;&nbsp;| <span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">exists</span> <span class="id" type="var">l1</span>; <span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecBase"><span class="id" type="lemma">eqDecBase</span></a> <span class="id" type="var">b</span> <span class="id" type="var">b0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#nil"><span class="id" type="abbreviation">nil</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">e2</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">e2</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="matchExpSubEquivPre"><span class="id" type="lemma">matchExpSubEquivPre</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>) <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l'</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">f_equal</span>;[<span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExp1</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>;[|<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubPreordFst"><span class="id" type="lemma">lubPreordFst</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> |<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExp2</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>;[|<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubPreordSnd"><span class="id" type="lemma">lubPreordSnd</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="var">erewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#preord_subst"><span class="id" type="lemma">preord_subst</span></a>; [|<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>|].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExp</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExp</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <span class="id" type="var">v</span> =&gt; <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">v</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eBase"><span class="id" type="constructor">eBase</span></a> <span class="id" type="var">b</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#empty_set"><span class="id" type="definition">empty_set</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eSubtract"><span class="id" type="constructor">eSubtract</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eMult"><span class="id" type="constructor">eMult</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eAdd"><span class="id" type="constructor">eAdd</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eWaitTime"><span class="id" type="constructor">eWaitTime</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#ePeriod"><span class="id" type="constructor">ePeriod</span></a> <span class="id" type="var">e'</span> =&gt; <a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eFailSafeSucc"><span class="id" type="constructor">eFailSafeSucc</span></a> <span class="id" type="var">e'</span> =&gt; <a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#eDist"><span class="id" type="constructor">eDist</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#fold_right"><span class="id" type="definition">fold_right</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a>) <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>).<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="freeVarsListExpAlt"><span class="id" type="definition">freeVarsListExpAlt</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> =&gt; <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">l'</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsListExpAlt"><span class="id" type="definition">freeVarsListExpAlt</span></a> <span class="id" type="var">l'</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="freeVarsListAlt_correct"><span class="id" type="lemma">freeVarsListAlt_correct</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#freeVarsListExpAlt"><span class="id" type="definition">freeVarsListExpAlt</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">IHl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Fixpoint</span> <a name="freeVarsBoolExp"><span class="id" type="definition">freeVarsBoolExp</span></a> (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <span class="id" type="var">b'</span> =&gt; <a class="idref" href="LanguageFoundations.html#freeVarsBoolExp"><span class="id" type="definition">freeVarsBoolExp</span></a> <span class="id" type="var">b'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">e3</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>)) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e3</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_cons_not"><span class="id" type="lemma">in_cons_not</span></a> {<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">p</span> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">p</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not"><span class="id" type="lemma">in_cons_not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_res_exp_sub"><span class="id" type="lemma">firstOcc_res_exp_sub</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_firstOcc_res"><span class="id" type="lemma">in_firstOcc_res</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> ((<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; [|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_restrict_incl"><span class="id" type="lemma">firstOcc_restrict_incl</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_res_exp_sub"><span class="id" type="lemma">firstOcc_res_exp_sub</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_firstOcc_res"><span class="id" type="lemma">in_firstOcc_res</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_res_splitSrc"><span class="id" type="lemma">preord_res_splitSrc</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)<a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_incl_subEq"><span class="id" type="lemma">restrictSrc_incl_subEq</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl_refl"><span class="id" type="lemma">incl_refl</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_restrict_incl"><span class="id" type="lemma">firstOcc_restrict_incl</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" type="lemma">set_union_intro1</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_restrict_incl"><span class="id" type="lemma">firstOcc_restrict_incl</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" type="lemma">set_union_intro2</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="lub_join_preordBindList"><span class="id" type="lemma">lub_join_preordBindList</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">l</span> <span class="id" type="keyword">with</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Any Exp e with substitution from bindList x applied can be matched by some 
bindList z to e, where z is less than x in the preorder.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" type="notation">exists</span> <span class="id" type="var">z</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> (<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="var">z</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">z</span> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>)<a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="var">invertClear</span> <span class="id" type="var">IHe1</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">IHe2</span>; <span class="id" type="tactic">rename</span> <span class="id" type="var">x</span> <span class="id" type="var">into</span> <span class="id" type="var">l1</span>; <span class="id" type="tactic">rename</span> <span class="id" type="var">x0</span> <span class="id" type="var">into</span> <span class="id" type="var">l2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">x</span>; <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">y</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <span class="id" type="var">l</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>)) <span class="id" type="var">l1</span> <span class="id" type="var">l2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">Q</span>;[<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; [<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a>;<span class="id" type="tactic">assumption</span>|<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a>;<span class="id" type="tactic">assumption</span>]|];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Q</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">Q</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x0</span>; <span class="id" type="tactic">split</span>; [|<span class="id" type="tactic">assumption</span>];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">econstructor</span>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> | <span class="id" type="tactic">assumption</span>]);<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="var">invertClear</span> <span class="id" type="var">IHe</span>; <span class="id" type="tactic">rename</span> <span class="id" type="var">x</span> <span class="id" type="var">into</span> <span class="id" type="var">l'</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l'</span>; <span class="id" type="tactic">split</span>;[|<span class="id" type="tactic">assumption</span>]; <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">exists</span> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">v</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <span class="id" type="var">l</span> <span class="id" type="var">v</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">))</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>; <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_refl"><span class="id" type="lemma">preordBindList_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#nil"><span class="id" type="abbreviation">nil</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)). <span class="id" type="tactic">split</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_refl"><span class="id" type="lemma">preordBindList_refl</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A characterisation of the matching problem for a list of expressions. This says that
the list l1 is equal to the list l2 with the substitution l applied.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="melNil"><span class="id" type="constructor">melNil</span></a> : <a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a name="melCons"><span class="id" type="constructor">melCons</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x1</span> <span class="id" type="var">x2</span> <span class="id" type="var">x3</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#x1"><span class="id" type="variable">x1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#x2"><span class="id" type="variable">x2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#x3"><span class="id" type="variable">x3</span></a> <a class="idref" href="LanguageFoundations.html#x1"><span class="id" type="variable">x1</span></a> <a class="idref" href="LanguageFoundations.html#x2"><span class="id" type="variable">x2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> (<a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) (<a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#x3"><span class="id" type="variable">x3</span></a>.<br/>

<br/>
</div>

<div class="doc">
A characterisation of the matching problem for a boolean expressions. This says that
the b1 equals b2 with the substitution l applied.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="mbeSuff"><span class="id" type="constructor">mbeSuff</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#bSufficient"><span class="id" type="constructor">bSufficient</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="mbeNot"><span class="id" type="constructor">mbeNot</span></a> (<span class="id" type="var">b</span> <span class="id" type="var">b'</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="LanguageFoundations.html#b'"><span class="id" type="variable">b'</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>) (<a class="idref" href="LanguageFoundations.html#bNot"><span class="id" type="constructor">bNot</span></a> <a class="idref" href="LanguageFoundations.html#b'"><span class="id" type="variable">b'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="mbeEqual"><span class="id" type="constructor">mbeEqual</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">e2'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>) (<a class="idref" href="LanguageFoundations.html#bEqual"><span class="id" type="constructor">bEqual</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="mbePossInc"><span class="id" type="constructor">mbePossInc</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e1'</span> <span class="id" type="var">e2</span> <span class="id" type="var">e2'</span> <span class="id" type="var">e3</span> <span class="id" type="var">e3'</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l3</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e3"><span class="id" type="variable">e3</span></a> <a class="idref" href="LanguageFoundations.html#e3'"><span class="id" type="variable">e3'</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#lubBindList"><span class="id" type="inductive">lubBindList</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a> -&gt;     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#e3"><span class="id" type="variable">e3</span></a>) (<a class="idref" href="LanguageFoundations.html#bPossInc"><span class="id" type="constructor">bPossInc</span></a> <a class="idref" href="LanguageFoundations.html#e1'"><span class="id" type="variable">e1'</span></a> <a class="idref" href="LanguageFoundations.html#e2'"><span class="id" type="variable">e2'</span></a> <a class="idref" href="LanguageFoundations.html#e3'"><span class="id" type="variable">e3'</span></a>) <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>.<br/>

<br/>
</div>

<div class="doc">
There is at most one "minimal" solution to the matching problem for
lists of expressions as characterised by the matchExpLists relation.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="matchExpListsUnique"><span class="id" type="lemma">matchExpListsUnique</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l2</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExpLists</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H9</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H9</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H10</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">x1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H10</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
There is at most one "minimal" solution to the matching problem for
boolean expressions, as characterised by the matchExp relation.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="matchBoolExpUnique"><span class="id" type="lemma">matchBoolExpUnique</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">try</span><br/>
&nbsp;&nbsp;(<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>|]; <span class="id" type="tactic">replace</span> <span class="id" type="var">l1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l4</span>; [<span class="id" type="tactic">replace</span> <span class="id" type="var">l0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l5</span>;<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">apply</span> <span class="id" type="var">H10</span>|<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>]]|<br/>
&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>]]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchBoolExp</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">l</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l4</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">l3</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l7</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H14</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">l1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> <span class="id" type="var">l0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l6</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H13</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H11</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="decMatchBoolExp"><span class="id" type="lemma">decMatchBoolExp</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<span class="id" type="notation">exists</span> <span class="id" type="var">l</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <span class="id" type="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">induction</span> <span class="id" type="var">e1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e1</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">e2</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">econstructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">e2</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e1</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">e2</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">econstructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e2</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">e3</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">e4</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">x1</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x3</span>. <span class="id" type="tactic">econstructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H4</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x3</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x2</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H14</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#lubBindListUnique"><span class="id" type="lemma">lubBindListUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H15</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">l1</span> <span class="id" type="keyword">with</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">l2</span> <span class="id" type="keyword">with</span> <span class="id" type="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">l2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H13</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H11</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l3</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l2</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="decMatchExpLists"><span class="id" type="lemma">decMatchExpLists</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<span class="id" type="notation">exists</span> <span class="id" type="var">l</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <span class="id" type="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">e2</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">e1</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">e2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#nil"><span class="id" type="abbreviation">nil</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a><a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)). <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">IHe1</span> <span class="id" type="var">e2</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">IHe1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rename</span> <span class="id" type="var">e</span> <span class="id" type="var">into</span> <span class="id" type="var">e'</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">a</span> <span class="id" type="var">into</span> <span class="id" type="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decMatchExp"><span class="id" type="lemma">decMatchExp</span></a> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#decLubBindList"><span class="id" type="lemma">decLubBindList</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">econstructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x0</span> <span class="id" type="keyword">with</span> <span class="id" type="var">x2</span>. <span class="id" type="tactic">replace</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span> <span class="id" type="var">x3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpListsUnique"><span class="id" type="lemma">matchExpListsUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H9</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpUnique"><span class="id" type="lemma">matchExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="split_append_fst"><span class="id" type="lemma">split_append_fst</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" type="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> (<span class="id" type="var">l1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)). <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <span class="id" type="var">l1</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="split_append_snd"><span class="id" type="lemma">split_append_snd</span></a> {<span class="id" type="var">A</span> <span class="id" type="var">B</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#B"><span class="id" type="variable">B</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> (<span class="id" type="var">l1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <span class="id" type="var">l2</span>)). <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#split"><span class="id" type="definition">split</span></a> <span class="id" type="var">l1</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">p</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="bindSub_app_id"><span class="id" type="lemma">bindSub_app_id</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <span class="id" type="var">x</span>). <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H0</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_src_bindApp_id"><span class="id" type="lemma">notIn_src_bindApp_id</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x</span> <span class="id" type="var">v</span>). <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_sing"><span class="id" type="lemma">in_sing</span></a> {<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="restrict_nil_id"><span class="id" type="lemma">restrict_nil_id</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a><a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_emp_eq"><span class="id" type="lemma">preord_emp_eq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">a</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l</span>)). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_src_ex_firstOcc"><span class="id" type="lemma">in_src_ex_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_src_bindApp_id"><span class="id" type="lemma">notIn_src_bindApp_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_cons_excl"><span class="id" type="lemma">preord_cons_excl</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">l2</span> := <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">a</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_sing"><span class="id" type="lemma">in_sing</span></a>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="matchExp_refl"><span class="id" type="lemma">matchExp_refl</span></a> (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" type="notation">exists</span> <span class="id" type="var">z</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchExp"><span class="id" type="inductive">matchExp</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <span class="id" type="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">e</span> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#idSubExp"><span class="id" type="lemma">idSubExp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#restrict_nil_id"><span class="id" type="lemma">restrict_nil_id</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="incl_restrict_refl"><span class="id" type="lemma">incl_restrict_refl</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">x0</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <span class="id" type="var">x</span>). <span class="id" type="var">erewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">x0</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <span class="id" type="var">y</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">x0</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <span class="id" type="var">l</span> <span class="id" type="var">y</span>)). <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_in"><span class="id" type="lemma">restrictSrc_in</span></a>;[|<span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Any list l with substitution from bindList x applied can be matched by some 
bindList z to l, where z is less than x in the preorder.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="sub_matchLists_ex"><span class="id" type="lemma">sub_matchLists_ex</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" type="notation">exists</span> <span class="id" type="var">z</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <span class="id" type="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <span class="id" type="var">z</span> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">exists</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#nil"><span class="id" type="abbreviation">nil</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)). <span class="id" type="tactic">split</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_emp"><span class="id" type="lemma">preord_emp</span></a>. <span class="id" type="var">invertClear</span> <span class="id" type="var">IHl</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> <span class="id" type="var">l</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">a</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> <span class="id" type="var">l</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">a</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> <span class="id" type="var">l</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">a</span>))).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <span class="id" type="var">l0</span> <span class="id" type="var">x1</span> <span class="id" type="var">x0</span>). <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x2</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heql0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#incl_restrict_refl"><span class="id" type="lemma">incl_restrict_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#incl"><span class="id" type="definition">incl</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" type="lemma">set_union_elim</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" type="lemma">set_union_intro2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" type="lemma">set_union_intro1</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="joinBinList_comm"><span class="id" type="lemma">joinBinList_comm</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l3</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Any boolexp b with substitution from bindList x applied can be matched by some 
bindList z to b, where z is less than x in the preorder.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="sub_matchBool_ex"><span class="id" type="lemma">sub_matchBool_ex</span></a> (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" type="notation">exists</span> <span class="id" type="var">z</span><span class="id" type="notation">,</span> <a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <span class="id" type="var">z</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <span class="id" type="var">z</span> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsBoolExp"><span class="id" type="definition">freeVarsBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>)). <span class="id" type="tactic">induction</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span>(<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">e</span> <span class="id" type="var">x</span>); <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">x</span>);<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)))<br/>
&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">z'</span>; <span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <span class="id" type="var">z'</span> <span class="id" type="var">x0</span> <span class="id" type="var">x1</span>); [<span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span> |<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H4</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x2</span>; <span class="id" type="tactic">split</span>;[<span class="id" type="tactic">econstructor</span>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">assumption</span>] |<span class="id" type="tactic">assumption</span>]]).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">IHb</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">x0</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">e</span> <span class="id" type="var">x</span>); <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">e0</span> <span class="id" type="var">x</span>);<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#sub_matchExp_ex"><span class="id" type="lemma">sub_matchExp_ex</span></a> <span class="id" type="var">e1</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a> <span class="id" type="var">x1</span> <span class="id" type="var">x</span> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)))<br/>
&nbsp;&nbsp;<span class="id" type="keyword">as</span> <span class="id" type="var">z'</span>. <span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <span class="id" type="var">z'</span> <span class="id" type="var">x0</span> <span class="id" type="var">x1</span>). <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqz'</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a> <span class="id" type="var">x3</span> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>))<br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a> <span class="id" type="var">x2</span> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>))<br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <span class="id" type="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e</span>)<br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e0</span>)) (<a class="idref" href="LanguageFoundations.html#freeVarsExp"><span class="id" type="definition">freeVarsExp</span></a> <span class="id" type="var">e1</span>))) <span class="id" type="keyword">as</span> <span class="id" type="var">z''</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <span class="id" type="var">z''</span> <span class="id" type="var">x3</span> <span class="id" type="var">x2</span>). <span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#join_lubBindList_ex"><span class="id" type="lemma">join_lubBindList_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H6</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H8</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x4</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">econstructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="matchListsSubEquivPre"><span class="id" type="lemma">matchListsSubEquivPre</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">z</span> <span class="id" type="var">z'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#z"><span class="id" type="variable">z</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#z"><span class="id" type="variable">z</span></a> <a class="idref" href="LanguageFoundations.html#z'"><span class="id" type="variable">z'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#z'"><span class="id" type="variable">z'</span></a>) <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assert</span> (<span class="id" type="var">x2</span> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <span class="id" type="var">z'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">x1</span> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <span class="id" type="var">z'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H6</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpSubEquivPre"><span class="id" type="lemma">matchExpSubEquivPre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchExpLists</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="matchListsSubEquiv"><span class="id" type="lemma">matchListsSubEquiv</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchExpLists"><span class="id" type="inductive">matchExpLists</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchListsSubEquivPre"><span class="id" type="lemma">matchListsSubEquivPre</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_refl"><span class="id" type="lemma">preordBindList_refl</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="matchBoolExpSubEquivPre"><span class="id" type="lemma">matchBoolExpSubEquivPre</span></a> (<span class="id" type="var">e1</span> <span class="id" type="var">e2</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#matchBoolExp"><span class="id" type="inductive">matchBoolExp</span></a> <a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>) <a class="idref" href="LanguageFoundations.html#e2"><span class="id" type="variable">e2</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H5</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span> <span class="id" type="var">H6</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>; <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">H2</span> <span class="id" type="var">H0</span>);<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">H4</span> <span class="id" type="var">H0</span>); <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpSubEquivPre"><span class="id" type="lemma">matchExpSubEquivPre</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> | <span class="id" type="tactic">assumption</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span> | <span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHmatchBoolExp</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H6</span> <span class="id" type="var">H7</span> <span class="id" type="var">H8</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H5</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H8</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H9</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H7</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H7</span> <span class="id" type="var">H8</span> <span class="id" type="var">H9</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> <span class="id" type="var">l</span> <span class="id" type="var">l'0</span> <span class="id" type="var">l'</span> <span class="id" type="var">H4</span> <span class="id" type="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> <span class="id" type="var">l3</span> <span class="id" type="var">l'0</span> <span class="id" type="var">l'</span> <span class="id" type="var">H7</span> <span class="id" type="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">H6</span> <span class="id" type="var">H5</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">H3</span> <span class="id" type="var">H5</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>; <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#matchExpSubEquivPre"><span class="id" type="lemma">matchExpSubEquivPre</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="subExp_restrict_eq"><span class="id" type="lemma">subExp_restrict_eq</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>))) <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">e</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">reflexivity</span>; <span class="id" type="tactic">try</span><br/>
&nbsp;&nbsp;(<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; (<span class="id" type="tactic">f_equal</span>;[<span class="id" type="tactic">apply</span> <span class="id" type="var">IHe1</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">IHe2</span>]);<span class="id" type="tactic">assumption</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_in"><span class="id" type="lemma">restrictSrc_in</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- (<a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a> <span class="id" type="var">l1</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l2</span>)) <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#notIn_bindList_id"><span class="id" type="lemma">notIn_bindList_id</span></a>;[|<span class="id" type="tactic">assumption</span>]). <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHe</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHe</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="subBoolExp_restrict_eq"><span class="id" type="lemma">subBoolExp_restrict_eq</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#BoolExp"><span class="id" type="inductive">BoolExp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#subBoolExp"><span class="id" type="definition">subBoolExp</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>))) <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#subExp_restrict_eq"><span class="id" type="lemma">subExp_restrict_eq</span></a>; <span class="id" type="tactic">assumption</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHb</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="listSub_restrict_eq"><span class="id" type="lemma">listSub_restrict_eq</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#listSub"><span class="id" type="definition">listSub</span></a> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>))) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#subExp_restrict_eq"><span class="id" type="lemma">subExp_restrict_eq</span></a>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Exclude distributes over restrict
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="res_excl_distr"><span class="id" type="lemma">res_excl_distr</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l2</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_exclude_sub_eq"><span class="id" type="lemma">in_exclude_sub_eq</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#bindApp"><span class="id" type="definition">bindApp</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span>) <span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <span class="id" type="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_src_bindApp_id"><span class="id" type="lemma">notIn_src_bindApp_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#exclude_in_splitSrc"><span class="id" type="lemma">exclude_in_splitSrc</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
passiveSrc x l, read x is passive in the source of l, or just x is passive in l,
means that all variables in x are only mapped to themselves by l.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="psrcEmp"><span class="id" type="constructor">psrcEmp</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="psrcConsFstOcc"><span class="id" type="constructor">psrcConsFstOcc</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> (<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><br/>
&nbsp;&nbsp;| <a name="psrcConsNotIn"><span class="id" type="constructor">psrcConsNotIn</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> (<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="passive_nil"><span class="id" type="lemma">passive_nil</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#psrcConsNotIn"><span class="id" type="constructor">psrcConsNotIn</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="passive_tl"><span class="id" type="lemma">passive_tl</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> (<a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="passive_cons_eq"><span class="id" type="lemma">passive_cons_eq</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">v</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#psrcConsFstOcc"><span class="id" type="constructor">psrcConsFstOcc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#passive_tl"><span class="id" type="lemma">passive_tl</span></a>;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#psrcConsNotIn"><span class="id" type="constructor">psrcConsNotIn</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_cons"><span class="id" type="lemma">notIn_cons</span></a> {<span class="id" type="var">X</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#X"><span class="id" type="variable">X</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_cons"><span class="id" type="lemma">in_cons</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="passive_cons_notIn"><span class="id" type="lemma">passive_cons_notIn</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#notIn_cons"><span class="id" type="lemma">notIn_cons</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#psrcConsNotIn"><span class="id" type="constructor">psrcConsNotIn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#notIn_cons"><span class="id" type="lemma">notIn_cons</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H6</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H7</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_src_excl"><span class="id" type="lemma">notIn_src_excl</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l</span> (<span class="id" type="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">x</span>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <span class="id" type="var">l</span> <span class="id" type="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v0</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">e0</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If all members of x are mapped to themselves by l, then x is passive in l.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="idSrc_passive"><span class="id" type="lemma">idSrc_passive</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>, <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> ((<span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>, <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <span class="id" type="var">x</span> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <span class="id" type="var">l</span> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>)). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">IHx</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l</span>)). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#splitSrc_firstOcc_ex"><span class="id" type="lemma">splitSrc_firstOcc_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <span class="id" type="var">l</span> <span class="id" type="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">a</span>). <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#psrcConsNotIn"><span class="id" type="constructor">psrcConsNotIn</span></a>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If x is passive in l, then excluding it from l yields the same substitution
function, and vice versa.
</div>
<div class="code">
<span class="id" type="keyword">Theorem</span> <a name="passiveSrc_exclude_equiv"><span class="id" type="lemma">passiveSrc_exclude_equiv</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#exclude_nil"><span class="id" type="lemma">exclude_nil</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">IHx</span>; [|<span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x0</span> (<span class="id" type="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">x</span>)). <span class="id" type="var">invertClear</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#in_exclude_sub_eq"><span class="id" type="lemma">in_exclude_sub_eq</span></a>; [|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHx</span>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_bindApp"><span class="id" type="lemma">firstOcc_bindApp</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#in_exclude_sub_eq"><span class="id" type="lemma">in_exclude_sub_eq</span></a>; [|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <span class="id" type="var">x0</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <span class="id" type="var">x</span>). <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a>; [|<span class="id" type="tactic">assumption</span>]). <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#notIn_src_excl"><span class="id" type="lemma">notIn_src_excl</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#idSrc_passive"><span class="id" type="lemma">idSrc_passive</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_exclude_sub_eq"><span class="id" type="lemma">in_exclude_sub_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Theorem</span> <a name="dec_passiveSrc"><span class="id" type="lemma">dec_passiveSrc</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.Decidable.html#decidable"><span class="id" type="definition">decidable</span></a> (<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>). <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">IHx</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#splitSrc_firstOcc_ex"><span class="id" type="lemma">splitSrc_firstOcc_ex</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecExp"><span class="id" type="lemma">eqDecExp</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H3</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_unique"><span class="id" type="lemma">firstOcc_unique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H8</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#psrcConsNotIn"><span class="id" type="constructor">psrcConsNotIn</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#passive_tl"><span class="id" type="lemma">passive_tl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="passive_in_firstOcc_eq"><span class="id" type="lemma">passive_in_firstOcc_eq</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_unique"><span class="id" type="lemma">firstOcc_unique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHpassiveSrc</span>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHpassiveSrc</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_firstOcc_id"><span class="id" type="lemma">in_firstOcc_id</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_notIn_append"><span class="id" type="lemma">firstOcc_notIn_append</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>). <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <span class="id" type="var">v</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l1</span>). <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#splitSrcCons"><span class="id" type="lemma">splitSrcCons</span></a>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="passive_excl_id"><span class="id" type="lemma">passive_excl_id</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <span class="id" type="var">x0</span>). <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#passive_in_firstOcc_eq"><span class="id" type="lemma">passive_in_firstOcc_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_append"><span class="id" type="lemma">firstOcc_append</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_firstOcc_id"><span class="id" type="lemma">in_firstOcc_id</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_notIn_append"><span class="id" type="lemma">firstOcc_notIn_append</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_notIn_exclude"><span class="id" type="lemma">firstOcc_notIn_exclude</span></a>; <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#srcIdBindList"><span class="id" type="lemma">srcIdBindList</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notEq_sub_excl_eq"><span class="id" type="lemma">notEq_sub_excl_eq</span></a> (<span class="id" type="var">v</span> <span class="id" type="var">v'</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#v'"><span class="id" type="variable">v'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#v'"><span class="id" type="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>)) <a class="idref" href="LanguageFoundations.html#v'"><span class="id" type="variable">v'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v0</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">v0</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v0</span> <span class="id" type="var">v'</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[|<span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="id_app_excl_sub_eq"><span class="id" type="lemma">id_app_excl_sub_eq</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#idBindList"><span class="id" type="definition">idBindList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" type="lemma">functional_extensionality</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#exclude_nil"><span class="id" type="lemma">exclude_nil</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>. <span class="id" type="var">addHyp</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x0</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#in_exclude_sub_eq"><span class="id" type="lemma">in_exclude_sub_eq</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHx</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notEq_sub_excl_eq"><span class="id" type="lemma">notEq_sub_excl_eq</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="excludeSrc_idem"><span class="id" type="lemma">excludeSrc_idem</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">)</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_restrict"><span class="id" type="lemma">notIn_restrict</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_cons"><span class="id" type="lemma">notIn_cons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">e</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="pre_excl_res_id"><span class="id" type="lemma">pre_excl_res_id</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> <span class="id" type="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">H0</span> <span class="id" type="var">into</span> <span class="id" type="var">Q</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l1</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">w</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_in"><span class="id" type="lemma">restrictSrc_in</span></a>;[|<span class="id" type="tactic">assumption</span>]. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_exclude_sub_eq"><span class="id" type="lemma">in_exclude_sub_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_restrict"><span class="id" type="lemma">notIn_restrict</span></a>; <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_bindList_id"><span class="id" type="lemma">notIn_bindList_id</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="pre_excl_res_passive"><span class="id" type="lemma">pre_excl_res_passive</span></a> (<span class="id" type="var">x</span> <span class="id" type="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a><a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#passiveSrc"><span class="id" type="inductive">passiveSrc</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#idSrc_passive"><span class="id" type="lemma">idSrc_passive</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#pre_excl_res_id"><span class="id" type="lemma">pre_excl_res_id</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preordBindList_cons"><span class="id" type="lemma">preordBindList_cons</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="exclude_restrict_cons"><span class="id" type="lemma">exclude_restrict_cons</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x</span> <span class="id" type="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>) <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">w</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHw</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> (<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">v</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">e</span><a class="idref" href="LanguageFoundations.html#::'('_x_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">l</span>) <span class="id" type="var">a</span>) <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;(<a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <span class="id" type="var">l</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#bindListToSubCons"><span class="id" type="lemma">bindListToSubCons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="notIn_sub_excl"><span class="id" type="lemma">notIn_sub_excl</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#bindListToSub"><span class="id" type="definition">bindListToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#bindApp_subst"><span class="id" type="lemma">bindApp_subst</span></a>. <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#notIn_bindApp_excl"><span class="id" type="lemma">notIn_bindApp_excl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="excl_res_distr"><span class="id" type="lemma">excl_res_distr</span></a> (<span class="id" type="var">x</span> <span class="id" type="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a>) <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">w</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_sub_excl"><span class="id" type="lemma">notIn_sub_excl</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="set_equal"><span class="id" type="definition">set_equal</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'={}='_x"><span class="id" type="notation">"</span></a>a ={}= b" := (<a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 70).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_not"><span class="id" type="lemma">set_equal_not</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>  -&gt; <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">H</span> <span class="id" type="var">a</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>; <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_refl"><span class="id" type="lemma">set_equal_refl</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_trans"><span class="id" type="lemma">set_equal_trans</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l3</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>  -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a>  -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">H</span> <span class="id" type="var">a</span>). <span class="id" type="var">addHyp</span> (<span class="id" type="var">H0</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_symm"><span class="id" type="lemma">set_equal_symm</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>  -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_nil_l"><span class="id" type="lemma">set_equal_nil_l</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>  -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">l2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">cut</span> (<span class="id" type="var">a</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>). <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<span class="id" type="var">H</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_nil_r"><span class="id" type="lemma">set_equal_nil_r</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>  -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_equal_symm"><span class="id" type="lemma">set_equal_symm</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_equal_nil_l"><span class="id" type="lemma">set_equal_nil_l</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_equal_union_app"><span class="id" type="lemma">set_equal_union_app</span></a> {<span class="id" type="var">A</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">p</span> : <span class="id" type="keyword">forall</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">{</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Specif.html#:type_scope:'{'_x_'}'_'+'_'{'_x_'}'"><span class="id" type="notation">}</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set"><span class="id" type="definition">set</span></a> <a class="idref" href="LanguageFoundations.html#A"><span class="id" type="variable">A</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union"><span class="id" type="definition">set_union</span></a> <a class="idref" href="LanguageFoundations.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" type="lemma">set_union_elim</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_or_app"><span class="id" type="lemma">in_or_app</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro"><span class="id" type="lemma">set_union_intro</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_app_or"><span class="id" type="lemma">in_app_or</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="equivBindList"><span class="id" type="definition">equivBindList</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'=[]='_x"><span class="id" type="notation">"</span></a>a =[]= b" := (<a class="idref" href="LanguageFoundations.html#equivBindList"><span class="id" type="definition">equivBindList</span></a> <span class="id" type="var">a</span> <span class="id" type="var">b</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 70).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equiv_preordBindList_l"><span class="id" type="lemma">equiv_preordBindList_l</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l1'</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l1'"><span class="id" type="variable">l1'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1'"><span class="id" type="variable">l1'</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equiv_preordBindList_r"><span class="id" type="lemma">equiv_preordBindList_r</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l2'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l2'"><span class="id" type="variable">l2'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l2'"><span class="id" type="variable">l2'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_trans"><span class="id" type="lemma">preordBindList_trans</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_symm"><span class="id" type="lemma">equivBindList_symm</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_trans"><span class="id" type="lemma">equivBindList_trans</span></a> (<span class="id" type="var">l1</span> <span class="id" type="var">l2</span> <span class="id" type="var">l3</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l3"><span class="id" type="variable">l3</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#equivBindList_symm"><span class="id" type="lemma">equivBindList_symm</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#equiv_preordBindList_l"><span class="id" type="lemma">equiv_preordBindList_l</span></a>;[|<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>]. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#equiv_preordBindList_r"><span class="id" type="lemma">equiv_preordBindList_r</span></a>;[|<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_refl"><span class="id" type="lemma">equivBindList_refl</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_refl"><span class="id" type="lemma">preordBindList_refl</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_exclude_notIn"><span class="id" type="lemma">firstOcc_exclude_notIn</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#exclude_in_splitSrc"><span class="id" type="lemma">exclude_in_splitSrc</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">l</span> := <span class="id" type="var">l</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_splitSrc"><span class="id" type="lemma">firstOcc_splitSrc</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_exclude_pres"><span class="id" type="lemma">preord_exclude_pres</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#preordBindList"><span class="id" type="definition">preordBindList</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#exclude_firstOcc"><span class="id" type="lemma">exclude_firstOcc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_exclude_notIn"><span class="id" type="lemma">firstOcc_exclude_notIn</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#firstOcc_notIn_exclude"><span class="id" type="lemma">firstOcc_notIn_exclude</span></a>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_cons"><span class="id" type="lemma">equivBindList_cons</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">split</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preordBindList_cons"><span class="id" type="lemma">preordBindList_cons</span></a>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_exclude"><span class="id" type="lemma">equivBindList_exclude</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#preord_exclude_pres"><span class="id" type="lemma">preord_exclude_pres</span></a>; <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_splitSrc"><span class="id" type="lemma">equivBindList_splitSrc</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>, <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">H0</span> <span class="id" type="var">a</span>). <span class="id" type="var">addHyp</span> (<span class="id" type="var">H1</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H0</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_join"><span class="id" type="lemma">equivBindList_join</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">split</span>;<br/>
&nbsp;&nbsp;(<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#equiv_preordBindList_r"><span class="id" type="lemma">equiv_preordBindList_r</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>]). <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="equivBindList_restrict"><span class="id" type="lemma">equivBindList_restrict</span></a> (<span class="id" type="var">l</span> <span class="id" type="var">l'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l'"><span class="id" type="variable">l'</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">H0</span> <span class="id" type="var">into</span> <span class="id" type="var">Q</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#equivBindList_splitSrc"><span class="id" type="lemma">equivBindList_splitSrc</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>, <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">f_equal</span>; [| <span class="id" type="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">f_equal</span>. <span class="id" type="var">addHyp</span> (<span class="id" type="var">H0</span> <span class="id" type="var">a</span>). <span class="id" type="var">addHyp</span> (<span class="id" type="var">H1</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">clear</span> <span class="id" type="var">H0</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> (<a class="idref" href="LanguageFoundations.html#splitSrc"><span class="id" type="definition">splitSrc</span></a> <span class="id" type="var">l</span>)).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#set_equal_not"><span class="id" type="lemma">set_equal_not</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>;[|<span class="id" type="tactic">apply</span> <span class="id" type="var">Q</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="LanguageFoundations.html#notIn_bindList_id"><span class="id" type="lemma">notIn_bindList_id</span></a>;[|<span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_eq_excl"><span class="id" type="lemma">set_eq_excl</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">x</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">y</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">Heqs</span>. <span class="id" type="tactic">rewrite</span> (<span class="id" type="var">H</span> <span class="id" type="var">v</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">i</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">v</span> <span class="id" type="var">y</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">Heqs0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">i</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">f_equal</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_eq_res_preord"><span class="id" type="lemma">set_eq_res_preord</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#preordBindListAlt"><span class="id" type="lemma">preordBindListAlt</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_source"><span class="id" type="lemma">restrictSrc_source</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#restrictSrc_in"><span class="id" type="lemma">restrictSrc_in</span></a>;[|<span class="id" type="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_eq_res_equiv"><span class="id" type="lemma">set_eq_res_equiv</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_eq_res_preord"><span class="id" type="lemma">set_eq_res_preord</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_equal_symm"><span class="id" type="lemma">set_equal_symm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="set_eq_freeVars_map"><span class="id" type="lemma">set_eq_freeVars_map</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#map"><span class="id" type="definition">map</span></a> <a class="idref" href="LanguageFoundations.html#eVar"><span class="id" type="constructor">eVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>)<a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">)</span></a> <a class="idref" href="LanguageFoundations.html#::x_'={}='_x"><span class="id" type="notation">={}=</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_equal_refl"><span class="id" type="lemma">set_equal_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#freeVarsListExp"><span class="id" type="definition">freeVarsListExp</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_elim"><span class="id" type="lemma">set_union_elim</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_sing"><span class="id" type="lemma">in_sing</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro1"><span class="id" type="lemma">set_union_intro1</span></a>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_union_intro2"><span class="id" type="lemma">set_union_intro2</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="firstOcc_in_src"><span class="id" type="lemma">firstOcc_in_src</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">e</span> : <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) : <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#firstOcc"><span class="id" type="inductive">firstOcc</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) -&gt; <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="restrict_add_cons_equiv"><span class="id" type="lemma">restrict_add_cons_equiv</span></a> (<span class="id" type="var">v</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :   <br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_add"><span class="id" type="definition">set_add</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_eq_res_equiv"><span class="id" type="lemma">set_eq_res_equiv</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#set_equal"><span class="id" type="definition">set_equal</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_add_elim"><span class="id" type="lemma">set_add_elim</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_cons_not_var"><span class="id" type="lemma">in_cons_not_var</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_add_intro"><span class="id" type="lemma">set_add_intro</span></a>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_add_intro"><span class="id" type="lemma">set_add_intro</span></a>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="diff_restrict_exclude"><span class="id" type="lemma">diff_restrict_exclude</span></a> (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) (<span class="id" type="var">x</span> <span class="id" type="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_diff"><span class="id" type="definition">set_diff</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a>) <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">=[]=</span></a> <a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#excludeSrc"><span class="id" type="definition">excludeSrc</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="LanguageFoundations.html#y"><span class="id" type="variable">y</span></a><a class="idref" href="LanguageFoundations.html#::x_'=[]='_x"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">x</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#equivBindList_refl"><span class="id" type="lemma">equivBindList_refl</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_mem"><span class="id" type="definition">set_mem</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">y</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHx</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_mem_correct1"><span class="id" type="lemma">set_mem_correct1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqb</span>. <span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_dec"><span class="id" type="lemma">in_dec</span></a> <a class="idref" href="LanguageFoundations.html#eqDecVar"><span class="id" type="lemma">eqDecVar</span></a> <span class="id" type="var">a</span> <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.ListSet.html#set_mem_complete1"><span class="id" type="lemma">set_mem_complete1</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#equivBindList_trans"><span class="id" type="lemma">equivBindList_trans</span></a>; [<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#restrict_add_cons_equiv"><span class="id" type="lemma">restrict_add_cons_equiv</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#equivBindList_cons"><span class="id" type="lemma">equivBindList_cons</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="preord_restrict_app_join"><span class="id" type="lemma">preord_restrict_app_join</span></a> (<span class="id" type="var">x</span> <span class="id" type="var">w</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> <span class="id" type="var">l1</span> <span class="id" type="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> (<a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:type_scope:x_'*'_x"><span class="id" type="notation">*</span></a> <a class="idref" href="LanguageFoundations.html#Exp"><span class="id" type="inductive">Exp</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="LanguageFoundations.html#::x_'<[]'_x"><span class="id" type="notation">&lt;[]</span></a> <a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#joinBindList"><span class="id" type="definition">joinBindList</span></a> (<a class="idref" href="LanguageFoundations.html#restrictSrc"><span class="id" type="definition">restrictSrc</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> (<a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'++'_x"><span class="id" type="notation">++</span></a> <a class="idref" href="LanguageFoundations.html#w"><span class="id" type="variable">w</span></a>)) <a class="idref" href="LanguageFoundations.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="LanguageFoundations.html#l2"><span class="id" type="variable">l2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union1"><span class="id" type="lemma">preord_restrict_union1</span></a> <span class="id" type="var">l1</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">w</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="LanguageFoundations.html#preord_restrict_union2"><span class="id" type="lemma">preord_restrict_union2</span></a> <span class="id" type="var">l2</span> <span class="id" type="var">l</span> <span class="id" type="var">x</span> <span class="id" type="var">w</span>) <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#equivBindList_join"><span class="id" type="lemma">equivBindList_join</span></a>;[|<span class="id" type="tactic">split</span>;[<span class="id" type="tactic">apply</span> <span class="id" type="var">H</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>]].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_eq_res_equiv"><span class="id" type="lemma">set_eq_res_equiv</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#set_equal_union_app"><span class="id" type="lemma">set_equal_union_app</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="listSub_emp_id"><span class="id" type="lemma">listSub_emp_id</span></a> <span class="id" type="var">l</span> : <a class="idref" href="LanguageFoundations.html#listsToSub"><span class="id" type="definition">listsToSub</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>. <span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="resetSub_neq"><span class="id" type="lemma">resetSub_neq</span></a> <span class="id" type="var">s</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#v2"><span class="id" type="variable">v2</span></a> -&gt; (<a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#v1"><span class="id" type="variable">v1</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>) <a class="idref" href="LanguageFoundations.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="LanguageFoundations.html#v2"><span class="id" type="variable">v2</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">v2</span> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">v1</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#inVarList_in"><span class="id" type="lemma">inVarList_in</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#in_sing"><span class="id" type="lemma">in_sing</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="varEq_eq"><span class="id" type="lemma">varEq_eq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">n</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="varEq_neq"><span class="id" type="lemma">varEq_neq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#varEq_eq"><span class="id" type="lemma">varEq_eq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>; <span class="id" type="tactic">intro</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">s</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="inVarList_out"><span class="id" type="lemma">inVarList_out</span></a> (<span class="id" type="var">x</span> : <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) (<span class="id" type="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="LanguageFoundations.html#Var"><span class="id" type="inductive">Var</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<->'_x"><span class="id" type="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="LanguageFoundations.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_nil"><span class="id" type="lemma">in_nil</span></a>. <span class="id" type="tactic">simpl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#varEq_neq"><span class="id" type="lemma">varEq_neq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">l</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="var">lets</span> <span class="id" type="var">NI</span> : <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#notIn_cons"><span class="id" type="lemma">notIn_cons</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">NI</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">IHl</span> <span class="id" type="keyword">in</span> <span class="id" type="var">NI</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">IHl</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#varEq_eq"><span class="id" type="lemma">varEq_eq</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_eq"><span class="id" type="lemma">in_eq</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="resetSub_eq"><span class="id" type="lemma">resetSub_eq</span></a> <span class="id" type="var">s</span> <span class="id" type="var">v</span> : (<a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>) <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#v"><span class="id" type="variable">v</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#inVarList"><span class="id" type="definition">inVarList</span></a> <span class="id" type="var">v</span> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><span class="id" type="var">v</span><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>). <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#inVarList_out"><span class="id" type="lemma">inVarList_out</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False_ind"><span class="id" type="definition">False_ind</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_eq"><span class="id" type="lemma">in_eq</span></a>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Replace a single true varEqDec
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">varEqDec_true</span> := <span class="id" type="keyword">let</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [ |- <span class="id" type="keyword">context</span>[<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> ?<span class="id" type="var">x</span> ?<span class="id" type="var">x</span>]] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">U</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [<span class="id" type="var">U1</span> : <span class="id" type="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">x</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">U1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">U</span>;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [<span class="id" type="var">U2</span> : <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">x</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">U2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [<span class="id" type="var">U2</span> : <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <span class="id" type="var">x</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">contradiction</span> <span class="id" type="var">U2</span>; <span class="id" type="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Replace a single false varEqDec. The tactic will fail if it matches an x and a y
that aren't obviously false by inversion.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">varEqDec_false</span> := <span class="id" type="keyword">let</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [ |- <span class="id" type="keyword">context</span>[<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> ?<span class="id" type="var">x</span> ?<span class="id" type="var">y</span>]] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">U</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [<span class="id" type="var">U1</span> : <span class="id" type="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#varEqDec"><span class="id" type="lemma">varEqDec</span></a> <span class="id" type="var">x</span> <span class="id" type="var">y</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">U1</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">U</span>;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [<span class="id" type="var">U2</span> : <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">y</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">U2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [<span class="id" type="var">U2</span> : <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <span class="id" type="var">y</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">U2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Gets rid of lingering occurrences of resetSub in the goal.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">remove_resets</span> := <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#resetPreservesId"><span class="id" type="lemma">resetPreservesId</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>; <span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#liftVarList"><span class="id" type="definition">liftVarList</span></a>; <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#resetSub"><span class="id" type="definition">resetSub</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#varEq"><span class="id" type="definition">varEq</span></a>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">varEqDec_true</span>; <span class="id" type="tactic">repeat</span> <span class="id" type="var">varEqDec_false</span>.<br/>

<br/>
</div>

<div class="doc">
Gets rid of lingering occurrences of update in the goal.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">remove_updates</span> := <span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppEq"><span class="id" type="lemma">updateAppEq</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> (<span class="id" type="tactic">rewrite</span> <a class="idref" href="LanguageFoundations.html#updateAppNeq"><span class="id" type="lemma">updateAppNeq</span></a>;[ | <span class="id" type="tactic">solve</span> [<span class="id" type="var">neq_inversion</span>]]));<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="LanguageFoundations.html#idSubst"><span class="id" type="definition">idSubst</span></a>.<br/>

<br/>
</div>

<div class="doc">
Gets rid of lingering occurrences of resetSub in the hypothesis. Tactic will
halt as soon as it encounters a resetSub that can't be eliminated, so doesn't
necessarily remove ALL possible resets from all hypotheses.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">remove_resets_hyp</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">U</span>; <span class="id" type="var">remove_resets</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">U</span>.<br/>

<br/>
</div>

<div class="doc">
Gets rid of lingering occurrences of resetSub in the hypothesis.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">remove_updates_hyp</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">U</span>; <span class="id" type="var">remove_updates</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">U</span>.<br/>

<br/>
</div>

<div class="doc">
Performs some simplifications to goal like removing updates and resets.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">clean_proc</span> := <span class="id" type="tactic">simpl</span>; <span class="id" type="var">remove_resets</span>; <span class="id" type="var">remove_updates</span>.<br/>

<br/>
</div>

<div class="doc">
If there's one hypothesis U (usually without any dependencies), this tactic
generalises it, applys some tactic t, and then re-assumed the hypothesis into the
hypotheses.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">gen_app_intro</span> <span class="id" type="var">t</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">generalize</span> <span class="id" type="tactic">dependent</span> <span class="id" type="var">U</span>; <span class="id" type="var">t</span>; <span class="id" type="tactic">intro</span> <span class="id" type="var">U</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">clean_proc_hyp</span> <span class="id" type="var">U</span> := <span class="id" type="var">gen_app_intro</span> <span class="id" type="var">clean_proc</span> <span class="id" type="var">U</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_pres_sub"><span class="id" type="lemma">eval_pres_sub</span></a> <span class="id" type="var">e</span> <span class="id" type="var">b</span> <span class="id" type="var">s</span> : <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">induction</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalExp1</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalExp2</span>); <span class="id" type="tactic">try</span> <span class="id" type="tactic">rewrite</span> <span class="id" type="var">IHevalExp</span>; <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A stronger version of the uniqueness property of the evalution relation over
expressions. In this version, any substitution is allowed to be applied to the
expression in one of the evaluations and the equality still holds.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="evalExp_sub_unique_strong"><span class="id" type="lemma">evalExp_sub_unique_strong</span></a> <span class="id" type="var">e</span> <span class="id" type="var">b</span> <span class="id" type="var">b'</span> <span class="id" type="var">s</span> : <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <a class="idref" href="LanguageFoundations.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="LanguageFoundations.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#b'"><span class="id" type="variable">b'</span></a> -&gt; <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#b'"><span class="id" type="variable">b'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#evalExpUnique"><span class="id" type="lemma">evalExpUnique</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="var">erewrite</span> <a class="idref" href="LanguageFoundations.html#eval_pres_sub"><span class="id" type="lemma">eval_pres_sub</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Repeatedly matches the goal to matching evaluations, creates the equality that the
corresponding base type are equal, inverts this to unpackage the contents of the base
types, and clear the original evaluations.
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">unique_exps</span> := <span class="id" type="tactic">repeat</span> <span class="id" type="keyword">let</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span> <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" type="var">U1</span> : ?<span class="id" type="var">e1</span> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">b1</span>, <span class="id" type="var">U2</span> : ?<span class="id" type="var">e1</span> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">b2</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">b1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">b2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">U</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#evalExpUnique"><span class="id" type="lemma">evalExpUnique</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">U1</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">U2</span>] | ]; <span class="id" type="tactic">clear</span> <span class="id" type="var">U1</span> <span class="id" type="var">U2</span>; <span class="id" type="var">invertClear</span> <span class="id" type="var">U</span><br/>
&nbsp;&nbsp;| [ <span class="id" type="var">U1</span> : ?<span class="id" type="var">e1</span> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">b1</span>, <span class="id" type="var">U2</span> : <a class="idref" href="LanguageFoundations.html#subExp"><span class="id" type="definition">subExp</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">e1</span> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">_</span></a><a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">|</span></a> <a class="idref" href="LanguageFoundations.html#::x_'|_|'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">b2</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assert</span> (<span class="id" type="var">b1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">b2</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">U</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" type="tactic">eapply</span> <a class="idref" href="LanguageFoundations.html#evalExp_sub_unique_strong"><span class="id" type="lemma">evalExp_sub_unique_strong</span></a>; [<span class="id" type="tactic">apply</span> <span class="id" type="var">U1</span> | <span class="id" type="tactic">apply</span> <span class="id" type="var">U2</span>] | ]; <span class="id" type="tactic">clear</span> <span class="id" type="var">U1</span> <span class="id" type="var">U2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">U</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Given a goal of type a _: l, this tactic repeatedly checks if a is the head of l,
drilling into l until either the empty list is reached, in which case the tactic fails,
or the value a is found, in which case it proceeds with the constructor
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">inList_in_tac</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [ |- ?<span class="id" type="var">a</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(?</span></a><span class="id" type="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">_</span><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a>] =&gt; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_eq"><span class="id" type="lemma">in_eq</span></a><br/>
&nbsp;&nbsp;| [ |- <span class="id" type="var">_</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">_</span><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a>] =&gt; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_cons"><span class="id" type="lemma">in_cons</span></a>; <span class="id" type="var">inList_in_tac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="cons_notIn"><span class="id" type="lemma">cons_notIn</span></a> {<span class="id" type="var">T</span> : <span class="id" type="keyword">Type</span>} (<span class="id" type="var">a</span> <span class="id" type="var">b</span> : <a class="idref" href="LanguageFoundations.html#T"><span class="id" type="variable">T</span></a>) <span class="id" type="var">l</span> : <a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><a class="idref" href="LanguageFoundations.html#b"><span class="id" type="variable">b</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><a class="idref" href="LanguageFoundations.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="LanguageFoundations.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">symmetry</span>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Given a goal of type ~a _: l, this tactic repeatedly checks if a is the head of l,
drilling into l until either the empty list is reached, in which case the tactic fails,
or the value a is found, in which case it proceeds with the constructor
</div>
<div class="code">
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">inList_out_tac</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><span class="id" type="var">_</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::'['_']'"><span class="id" type="notation">[]</span></a>] =&gt; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Lists.List.html#in_nil"><span class="id" type="lemma">in_nil</span></a><br/>
&nbsp;&nbsp;| [ |- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a><span class="id" type="var">_</span> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">_</span></a><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">:</span></a> <a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">(</span></a><span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <span class="id" type="var">_</span><a class="idref" href="ComhBasics.html#::x_'_:'_x"><span class="id" type="notation">)</span></a>] =&gt; <span class="id" type="tactic">apply</span> <a class="idref" href="LanguageFoundations.html#cons_notIn"><span class="id" type="lemma">cons_notIn</span></a>; [<span class="id" type="var">neq_inversion</span> | <span class="id" type="var">inList_out_tac</span>]<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">intro</span> <span class="id" type="var">U</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">U</span>; <span class="id" type="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">baseEq</span> := <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> [|- ?<span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">?</span></a><span class="id" type="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">U</span> := <span class="id" type="tactic">fresh</span> <span class="id" type="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="var">type</span> <span class="id" type="var">of</span> <span class="id" type="var">x</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> =&gt; <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <span class="id" type="var">y</span>);[<span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span> | ]<br/>
&nbsp;&nbsp;| <span class="id" type="keyword">Time</span> =&gt; <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#baseTime"><span class="id" type="constructor">baseTime</span></a> <span class="id" type="var">y</span>);[<span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span> | ]<br/>
&nbsp;&nbsp;| <a class="idref" href="StandardResults.html#Position"><span class="id" type="record">Position</span></a> =&gt; <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#basePosition"><span class="id" type="constructor">basePosition</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#basePosition"><span class="id" type="constructor">basePosition</span></a> <span class="id" type="var">y</span>);[<span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span> | ]<br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#Distance"><span class="id" type="record">Distance</span></a> =&gt; <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#baseDistance"><span class="id" type="constructor">baseDistance</span></a> <span class="id" type="var">y</span>);[<span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span> | ]<br/>
&nbsp;&nbsp;| <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a> =&gt; <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#baseDelay"><span class="id" type="constructor">baseDelay</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#baseDelay"><span class="id" type="constructor">baseDelay</span></a> <span class="id" type="var">y</span>);[<span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span> | ]<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#nonnegreal"><span class="id" type="record">nonnegreal</span></a> =&gt; <span class="id" type="tactic">cut</span> (<a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> <span class="id" type="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#baseNonneg"><span class="id" type="constructor">baseNonneg</span></a> <span class="id" type="var">y</span>);[<span class="id" type="var">baseEq_aux</span> <span class="id" type="var">U</span>| ]<br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; (<span class="id" type="tactic">progress</span> <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">f_equal</span>); <span class="id" type="var">baseEq</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>