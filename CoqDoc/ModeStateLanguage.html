<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>ModeStateLanguage</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library ModeStateLanguage</h1>

<div class="code">
</div>

<div class="doc">
This file was written by Colm Bhandal, PhD student, Foundations and Methods group,
School of Computer Science and Statistics, Trinity College, Dublin, Ireland.
<div class="paragraph"> </div>

*************************** Standard Imports 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Add</span> <span class="id" type="var">LoadPath</span> "Extras".<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="library">LibTactics</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="GenTacs.html#"><span class="id" type="library">GenTacs</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="LanguageFoundations.html#"><span class="id" type="library">LanguageFoundations</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="ComhBasics.html#"><span class="id" type="library">ComhBasics</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <a class="idref" href="StandardResults.html#"><span class="id" type="library">StandardResults</span></a>.<br/>

<br/>

<br/>

<br/>
</div>

<div class="doc">
Syntax: a mode state is either a single stable mode, or the transition from one mode
to another, with a certain amount of time remaining until the transition times out and
the mode switch can be finalised.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="ModeState"><span class="id" type="inductive">ModeState</span></a> : <span class="id" type="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="sing"><span class="id" type="constructor">sing</span></a> :&gt; <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a><br/>
&nbsp;&nbsp;| <a name="transState"><span class="id" type="constructor">transState</span></a> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> -&gt; <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> -&gt; <span class="id" type="keyword">Time</span> -&gt; <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>.<br/>
<span class="id" type="keyword">Notation</span> <a name="::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">"</span></a>&lt;| m , m' , t |&gt;" := (<a class="idref" href="ModeStateLanguage.html#transState"><span class="id" type="constructor">transState</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">t</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>

<br/>
</div>

<div class="doc">
Coerce a mode state to its current mode.
</div>
<div class="code">
<span class="id" type="keyword">Coercion</span> <span class="id" type="var">currModeMState</span> (<span class="id" type="var">a</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ModeStateLanguage.html#sing"><span class="id" type="constructor">sing</span></a> <span class="id" type="var">m</span> =&gt; <span class="id" type="var">m</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a><span class="id" type="var">m</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m'</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">d</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> =&gt; <span class="id" type="var">m</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Strip the next mode off the mode state, if it exists.
</div>
<div class="code">
<span class="id" type="keyword">Definition</span> <a name="nextModeMState"><span class="id" type="definition">nextModeMState</span></a> (<span class="id" type="var">a</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ModeStateLanguage.html#sing"><span class="id" type="constructor">sing</span></a> <span class="id" type="var">m</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a><span class="id" type="var">m</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m'</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">d</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">m'</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Equality on mode states is decidable.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="eqDecModeState"><span class="id" type="lemma">eqDecModeState</span></a> : <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a> <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#eqDec"><span class="id" type="definition">eqDec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">x1</span>, <span class="id" type="var">x2</span>; <span class="id" type="tactic">try</span> <span class="id" type="tactic">solve</span> [<span class="id" type="tactic">right</span>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>]. <span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecMode"><span class="id" type="axiom">eqDecMode</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecMode"><span class="id" type="axiom">eqDecMode</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m1</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecMode"><span class="id" type="axiom">eqDecMode</span></a> <span class="id" type="var">m0</span> <span class="id" type="var">m2</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">addHyp</span> (<a class="idref" href="ComhBasics.html#eqDecTime"><span class="id" type="lemma">eqDecTime</span></a> <span class="id" type="var">t</span> <span class="id" type="var">t0</span>). <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The actions of the mode state are: input/output of a mode on a channel,
or delay.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="ActModeState"><span class="id" type="inductive">ActModeState</span></a> :=<br/>
&nbsp;&nbsp;| <a name="amIn"><span class="id" type="constructor">amIn</span></a> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a> -&gt; <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a><br/>
&nbsp;&nbsp;| <a name="amOut"><span class="id" type="constructor">amOut</span></a> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a> -&gt; <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a><br/>
&nbsp;&nbsp;| <a name="amOutEmp"><span class="id" type="constructor">amOutEmp</span></a> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a><br/>
&nbsp;&nbsp;| <a name="amInEmp"><span class="id" type="constructor">amInEmp</span></a> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a><br/>
&nbsp;&nbsp;| <a name="amDel"><span class="id" type="constructor">amDel</span></a> :&gt; <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a>.<br/>

<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'.?'_x"><span class="id" type="notation">"</span></a>c .? m" := (<a class="idref" href="ModeStateLanguage.html#amIn"><span class="id" type="constructor">amIn</span></a> <span class="id" type="var">c</span> <span class="id" type="var">m</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'.!'_x"><span class="id" type="notation">"</span></a>c .! m" := (<a class="idref" href="ModeStateLanguage.html#amOut"><span class="id" type="constructor">amOut</span></a> <span class="id" type="var">c</span> <span class="id" type="var">m</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'@!'"><span class="id" type="notation">"</span></a>c @! " := (<a class="idref" href="ModeStateLanguage.html#amOutEmp"><span class="id" type="constructor">amOutEmp</span></a> <span class="id" type="var">c</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>
<span class="id" type="keyword">Notation</span> <a name="::x_'@?'"><span class="id" type="notation">"</span></a>c @? " := (<a class="idref" href="ModeStateLanguage.html#amInEmp"><span class="id" type="constructor">amInEmp</span></a> <span class="id" type="var">c</span>) (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 30).<br/>

<br/>
<span class="id" type="keyword">Reserved Notation</span> "m -ms- a -ms&gt; m'" (<span class="id" type="tactic">at</span> <span class="id" type="keyword">level</span> 75).<br/>

<br/>
</div>

<div class="doc">
The semantics of the mode state language.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="stepModeState"><span class="id" type="inductive">stepModeState</span></a> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;</div>

<div class="doc">
A stable mode state can delay arbitrarily and remain unchanged.
</div>
<div class="code">
&nbsp;&nbsp;| <a name="stepMsDelSing"><span class="id" type="constructor">stepMsDelSing</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsDelTout"><span class="id" type="constructor">stepMsDelTout</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsDelGuard"><span class="id" type="constructor">stepMsDelGuard</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>) (<span class="id" type="var">t</span> <span class="id" type="var">t'</span> : <span class="id" type="keyword">Time</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ModeStateLanguage.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">dt</span></a><a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsInit"><span class="id" type="constructor">stepMsInit</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">p</span> : <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">mtr</span></a><a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMNext"><span class="id" type="constructor">chanMNext</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'.?'_x"><span class="id" type="notation">.?</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#modeTransTime"><span class="id" type="axiom">modeTransTime</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#p"><span class="id" type="variable">p</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsSwitch"><span class="id" type="constructor">stepMsSwitch</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMCurr"><span class="id" type="constructor">chanMCurr</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@?'"><span class="id" type="notation">@?</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsAbort"><span class="id" type="constructor">stepMsAbort</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMStable"><span class="id" type="constructor">chanMStable</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@?'"><span class="id" type="notation">@?</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsOutCurrSing"><span class="id" type="constructor">stepMsOutCurrSing</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>, <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMCurr"><span class="id" type="constructor">chanMCurr</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'.!'_x"><span class="id" type="notation">.!</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsOutCurrTrans"><span class="id" type="constructor">stepMsOutCurrTrans</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMCurr"><span class="id" type="constructor">chanMCurr</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'.!'_x"><span class="id" type="notation">.!</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsOutNext"><span class="id" type="constructor">stepMsOutNext</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m</span> <span class="id" type="var">m'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMNext"><span class="id" type="constructor">chanMNext</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'.!'_x"><span class="id" type="notation">.!</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a><br/>
&nbsp;&nbsp;| <a name="stepMsOutStable"><span class="id" type="constructor">stepMsOutStable</span></a> : <span class="id" type="keyword">forall</span> <span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>, <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMStable"><span class="id" type="constructor">chanMStable</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@!'"><span class="id" type="notation">@!</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">where</span> <a name="::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">"</span></a>m -ms- a -ms&gt; m'" := (<a class="idref" href="ModeStateLanguage.html#stepModeState"><span class="id" type="inductive">stepModeState</span></a> <span class="id" type="var">m</span> <span class="id" type="var">a</span> <span class="id" type="var">m'</span>).<br/>

<br/>
</div>

<div class="doc">
A mode state is enabled on a discrete action if it can perform an input of
a mode, an output of a mode or an output of nothing. The discrete action is then
the corresponding input or output as a DiscAct rather than an ActModeState.
</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> : <a class="idref" href="LanguageFoundations.html#DiscAct"><span class="id" type="inductive">DiscAct</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="daemIn"><span class="id" type="constructor">daemIn</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">c</span> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a>) (<span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">k'</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'.?'_x"><span class="id" type="notation">.?</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="LanguageFoundations.html#::x_';?'_x"><span class="id" type="notation">;?</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a><br/>
&nbsp;&nbsp;| <a name="daemOutMode"><span class="id" type="constructor">daemOutMode</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">c</span> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a>) (<span class="id" type="var">m</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">k'</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'.!'_x"><span class="id" type="notation">.!</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="LanguageFoundations.html#::x_';!'_x"><span class="id" type="notation">;!</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a><br/>
&nbsp;&nbsp;| <a name="daemInEmp"><span class="id" type="constructor">daemInEmp</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">c</span> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">k'</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@?'"><span class="id" type="notation">@?</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="LanguageFoundations.html#::x_'*?'"><span class="id" type="notation">*?</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a><br/>
&nbsp;&nbsp;| <a name="daemOutEmp"><span class="id" type="constructor">daemOutEmp</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">c</span> : <a class="idref" href="LanguageFoundations.html#Channel"><span class="id" type="inductive">Channel</span></a>) (<span class="id" type="var">k</span> <span class="id" type="var">k'</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@!'"><span class="id" type="notation">@!</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="ModeStateLanguage.html#c"><span class="id" type="variable">c</span></a> <a class="idref" href="LanguageFoundations.html#::x_'*!'"><span class="id" type="notation">*!</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
If &lt;m1, m2, t&gt; transitions by d to &lt;m1', m2', t'&gt; then either t' = 0,
or t = t' + d.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="delMStateTrans"><span class="id" type="lemma">delMStateTrans</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> <span class="id" type="var">m1'</span> <span class="id" type="var">m2'</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">t</span> <span class="id" type="var">t'</span> : <span class="id" type="keyword">Time</span>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1'"><span class="id" type="variable">m1'</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2'"><span class="id" type="variable">m2'</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ModeStateLanguage.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">dt</span></a><a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">delay</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">cond_pos</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">left</span>. <span class="id" type="tactic">split</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="delMStateTout"><span class="id" type="lemma">delMStateTout</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">a</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">destruct</span> (<span class="id" type="var">t'</span> <a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">dt</span></a><a class="idref" href="ComhBasics.html#::x_'+dt+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">d</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">delay</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">clear</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H7</span> <span class="id" type="keyword">in</span> <span class="id" type="var">cond_pos</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rlt_irrefl"><span class="id" type="lemma">Rlt_irrefl</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">cond_pos</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">cond_pos</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If an MState can timeout in d then it can timeout in d + d'.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="delMStateToutLengthen"><span class="id" type="lemma">delMStateToutLengthen</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>) (<span class="id" type="var">d</span> <span class="id" type="var">d'</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>  <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>  <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">d</span></a><a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="ModeStateLanguage.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>, <span class="id" type="var">d'</span>. <span class="id" type="tactic">unfold</span> <a class="idref" href="StandardResults.html#zeroNonneg"><span class="id" type="definition">zeroNonneg</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">delay</span>, <span class="id" type="var">delay0</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" type="axiom">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rplus_le_lt_compat"><span class="id" type="lemma">Rplus_le_lt_compat</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rle_refl"><span class="id" type="lemma">Rle_refl</span></a>. <span class="id" type="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a>. <span class="id" type="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Raxioms.html#Rlt_trans"><span class="id" type="axiom">Rlt_trans</span></a>. <span class="id" type="tactic">apply</span> <span class="id" type="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#pos"><span class="id" type="projection">pos</span></a> (<a class="idref" href="ComhBasics.html#delay"><span class="id" type="projection">delay</span></a> <span class="id" type="var">d</span>)) <span class="id" type="keyword">with</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <span class="id" type="var">d</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>, <span class="id" type="var">d'</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">delay</span>, <span class="id" type="var">delay0</span>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" type="axiom">Rplus_comm</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rplus_le_lt_compat"><span class="id" type="lemma">Rplus_le_lt_compat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rle_refl"><span class="id" type="lemma">Rle_refl</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">ring</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If an Mstate is transitioning and it delays, then it is still transitioning.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="delMStatePresTrans"><span class="id" type="lemma">delMStatePresTrans</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">m1</span> <span class="id" type="var">m2</span> : <a class="idref" href="ComhBasics.html#Mode"><span class="id" type="axiom">Mode</span></a>) (<span class="id" type="var">a</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>) (<span class="id" type="var">t</span> : <span class="id" type="keyword">Time</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> -&gt; <span class="id" type="notation">exists</span> <span class="id" type="var">t'</span><span class="id" type="notation">,</span> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m1"><span class="id" type="variable">m1</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m2"><span class="id" type="variable">m2</span></a><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">t'</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">exists</span> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">t'</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="tactic">exists</span> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Two consecutive delays can be joined together into one delay, skipping the intermediate
state. The final delay is the sum of the two original delays.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="delAddMState"><span class="id" type="lemma">delAddMState</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> <span class="id" type="var">a'</span> <span class="id" type="var">a''</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) (<span class="id" type="var">d</span> <span class="id" type="var">d'</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#a'"><span class="id" type="variable">a'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#a'"><span class="id" type="variable">a'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#a''"><span class="id" type="variable">a''</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">d</span></a><a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="ModeStateLanguage.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#a''"><span class="id" type="variable">a''</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#delMStateTout"><span class="id" type="lemma">delMStateTout</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">addHyp</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#delMStatePresTrans"><span class="id" type="lemma">delMStatePresTrans</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rename</span> <span class="id" type="var">x</span> <span class="id" type="var">into</span> <span class="id" type="var">t''</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>. <span class="id" type="tactic">clear</span> <span class="id" type="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H3</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#delMStateTrans"><span class="id" type="lemma">delMStateTrans</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H5</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="ComhBasics.html#addDelayComm"><span class="id" type="lemma">addDelayComm</span></a>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">d</span>, <span class="id" type="var">d'</span>, <span class="id" type="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">time</span>, <span class="id" type="var">delay</span>, <span class="id" type="var">delay0</span>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rplus_lt_le_compat"><span class="id" type="lemma">Rplus_lt_le_compat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rle_refl"><span class="id" type="lemma">Rle_refl</span></a>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="ComhBasics.html#delTimeAddAssoc"><span class="id" type="lemma">delTimeAddAssoc</span></a>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="ComhBasics.html#addDelayComm"><span class="id" type="lemma">addDelayComm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="ComhBasics.html#timeDelAddSwitch"><span class="id" type="lemma">timeDelAddSwitch</span></a>. <span class="id" type="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#delMStateTout"><span class="id" type="lemma">delMStateTout</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H4</span>. <span class="id" type="tactic">rewrite</span> &lt;- <span class="id" type="var">H2</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#delMStateToutLengthen"><span class="id" type="lemma">delMStateToutLengthen</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H2</span>. <span class="id" type="tactic">assumption</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Every mode state can delay by any amount d.
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="delEnabledMState"><span class="id" type="lemma">delEnabledMState</span></a> : <span class="id" type="keyword">forall</span> (<span class="id" type="var">a</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) (<span class="id" type="var">d</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>),<br/>
&nbsp;&nbsp;<span class="id" type="notation">exists</span> <span class="id" type="var">a'</span><span class="id" type="notation">,</span> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <span class="id" type="var">a'</span>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">m</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="var">addHyp</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rlt_le_dec"><span class="id" type="lemma">Rlt_le_dec</span></a> <span class="id" type="var">t</span> <span class="id" type="var">d</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">exists</span> (<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <span class="id" type="var">m</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m0</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="ModeStateLanguage.html#stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a>. <span class="id" type="tactic">assumption</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ComhBasics.html#delLeTimeSum"><span class="id" type="lemma">delLeTimeSum</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">invertClear</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">exists</span> (<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <span class="id" type="var">m</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m0</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">x</span> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>). <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="curr_switch_mState"><span class="id" type="lemma">curr_switch_mState</span></a> (<span class="id" type="var">k</span> <span class="id" type="var">k'</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) (<span class="id" type="var">a</span> : <a class="idref" href="ModeStateLanguage.html#ActModeState"><span class="id" type="inductive">ActModeState</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#currModeMState"><span class="id" type="definition">currModeMState</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'<>'_x"><span class="id" type="notation">&lt;&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#currModeMState"><span class="id" type="definition">currModeMState</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="LanguageFoundations.html#chanMCurr"><span class="id" type="constructor">chanMCurr</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@?'"><span class="id" type="notation">@?</span></a>. <span class="id" type="tactic">intros</span> <span class="id" type="var">H</span> <span class="id" type="var">H0</span>. <span class="id" type="var">invertClear</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="var">false</span>; <span class="id" type="tactic">apply</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">reflexivity</span>). <span class="id" type="tactic">reflexivity</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="timeSplit_mState"><span class="id" type="lemma">timeSplit_mState</span></a> (<span class="id" type="var">k</span> <span class="id" type="var">k''</span> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a>) (<span class="id" type="var">d</span> <span class="id" type="var">d'</span> <span class="id" type="var">d''</span> : <a class="idref" href="ComhBasics.html#Delay"><span class="id" type="record">Delay</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d''"><span class="id" type="variable">d''</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k''"><span class="id" type="variable">k''</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#d''"><span class="id" type="variable">d''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">d</span></a><a class="idref" href="ComhBasics.html#::x_'+d+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="ModeStateLanguage.html#d'"><span class="id" type="variable">d'</span></a> -&gt;<br/>
&nbsp;&nbsp;<span class="id" type="notation">exists</span> <span class="id" type="var">k'</span><span class="id" type="notation">,</span> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d"><span class="id" type="variable">d</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <span class="id" type="var">k'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <span class="id" type="var">k'</span> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="ModeStateLanguage.html#d'"><span class="id" type="variable">d'</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k''"><span class="id" type="variable">k''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">introz</span> <span class="id" type="var">U</span>. <span class="id" type="tactic">exists</span> <span class="id" type="var">m</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">U</span>. <span class="id" type="tactic">split</span>; <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">introz</span> <span class="id" type="var">U</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">lets</span> <span class="id" type="var">DT</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rle_or_lt"><span class="id" type="lemma">Rle_or_lt</span></a> <span class="id" type="var">d</span> <span class="id" type="var">t</span>. <span class="id" type="var">or_flat</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rename</span> <span class="id" type="var">OR</span> <span class="id" type="var">into</span> <span class="id" type="var">DT</span>. <span class="id" type="var">remember</span> (<a class="idref" href="ComhBasics.html#minusTime"><span class="id" type="definition">minusTime</span></a> <span class="id" type="var">t</span> <span class="id" type="var">d</span> <span class="id" type="var">DT</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">t'</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <span class="id" type="var">m</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m0</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">t'</span> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>). <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">apply</span> <a class="idref" href="ComhBasics.html#timeEqR"><span class="id" type="lemma">timeEqR</span></a>. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">lets</span> <span class="id" type="var">DMP</span> : <a class="idref" href="ModeStateLanguage.html#delMStatePresTrans"><span class="id" type="lemma">delMStatePresTrans</span></a> <span class="id" type="var">U</span>. <span class="id" type="var">ex_flat</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="var">lets</span> <span class="id" type="var">DMT</span> : <a class="idref" href="ModeStateLanguage.html#delMStateTrans"><span class="id" type="lemma">delMStateTrans</span></a> <span class="id" type="var">U</span>. <span class="id" type="var">or_flat</span>. <span class="id" type="var">and_flat</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="ModeStateLanguage.html#stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a>. <span class="id" type="tactic">eapply</span> <a class="idref" href="StandardResults.html#Rplus_lt_reg_r"><span class="id" type="lemma">Rplus_lt_reg_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rle_lt_trans"><span class="id" type="lemma">Rle_lt_trans</span></a>; [ | <span class="id" type="tactic">apply</span> <span class="id" type="var">AND0</span>]. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Req_le"><span class="id" type="lemma">Req_le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="ModeStateLanguage.html#stepMsDelGuard"><span class="id" type="constructor">stepMsDelGuard</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="ComhBasics.html#timeEqR"><span class="id" type="lemma">timeEqR</span></a>. <span class="id" type="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">exists</span> (<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <span class="id" type="var">m</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <span class="id" type="var">m0</span><a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ComhBasics.html#zeroTime"><span class="id" type="definition">zeroTime</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>). <span class="id" type="tactic">split</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="ModeStateLanguage.html#stepMsTimeout"><span class="id" type="constructor">stepMsTimeout</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>. <span class="id" type="var">lets</span> <span class="id" type="var">DMP</span> : <a class="idref" href="ModeStateLanguage.html#delMStatePresTrans"><span class="id" type="lemma">delMStatePresTrans</span></a> <span class="id" type="var">U</span>. <span class="id" type="var">ex_flat</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="var">lets</span> <span class="id" type="var">DMT</span> : <a class="idref" href="ModeStateLanguage.html#delMStateTrans"><span class="id" type="lemma">delMStateTrans</span></a> <span class="id" type="var">U</span>. <span class="id" type="var">or_flat</span>. <span class="id" type="var">and_flat</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">subst</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="var">false</span>. <span class="id" type="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rle_not_lt"><span class="id" type="lemma">Rle_not_lt</span></a>;<br/>
&nbsp;&nbsp;[ | <span class="id" type="tactic">apply</span> <span class="id" type="var">OR0</span>]. <span class="id" type="tactic">simpl</span>. <span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Raxioms.html#Rplus_comm"><span class="id" type="axiom">Rplus_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Raxioms.html#Rplus_assoc"><span class="id" type="axiom">Rplus_assoc</span></a>. <span class="id" type="var">Rplus_le_tac</span>. <span class="id" type="tactic">replace</span> 0 <span class="id" type="keyword">with</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.Rdefinitions.html#:R_scope:x_'+'_x"><span class="id" type="notation">+</span></a> 0).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rplus_le_compat"><span class="id" type="lemma">Rplus_le_compat</span></a>. <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Reals.RIneq.html#Rlt_le"><span class="id" type="lemma">Rlt_le</span></a>. <span class="id" type="var">delPos</span>. <span class="id" type="var">timeNonneg</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">ring</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="unstable"><span class="id" type="inductive">unstable</span></a> : <a class="idref" href="ModeStateLanguage.html#ModeState"><span class="id" type="inductive">ModeState</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="unstbl"><span class="id" type="constructor">unstbl</span></a> <span class="id" type="var">m</span> <span class="id" type="var">m'</span> <span class="id" type="var">t</span> : <a class="idref" href="ModeStateLanguage.html#unstable"><span class="id" type="inductive">unstable</span></a> (<a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">&lt;|</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">,</span></a> <a class="idref" href="ModeStateLanguage.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="ModeStateLanguage.html#::'<|'_x_','_x_','_x_'|>'"><span class="id" type="notation">|&gt;</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="unstable_stable_in"><span class="id" type="lemma">unstable_stable_in</span></a> <span class="id" type="var">k</span> : <a class="idref" href="ModeStateLanguage.html#unstable"><span class="id" type="inductive">unstable</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="LanguageFoundations.html#chanMStable"><span class="id" type="constructor">chanMStable</span></a> <a class="idref" href="LanguageFoundations.html#::x_'*?'"><span class="id" type="notation">*?</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">repeat</span> <span class="id" type="tactic">econstructor</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="modeState_curr_enabled"><span class="id" type="lemma">modeState_curr_enabled</span></a> <span class="id" type="var">k</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="LanguageFoundations.html#chanMCurr"><span class="id" type="constructor">chanMCurr</span></a> <a class="idref" href="LanguageFoundations.html#::x_';!'_x"><span class="id" type="notation">;!</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> (<a class="idref" href="ModeStateLanguage.html#currModeMState"><span class="id" type="definition">currModeMState</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>)<a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">k</span>; <span class="id" type="tactic">econstructor</span>; <span class="id" type="tactic">constructor</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="mState_stable_next_enabled"><span class="id" type="lemma">mState_stable_next_enabled</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m'</span> : <a class="idref" href="ModeStateLanguage.html#currModeMState"><span class="id" type="definition">currModeMState</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">mtr</span></a><a class="idref" href="ComhBasics.html#::x_'-mtr->'_x"><span class="id" type="notation">-&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="LanguageFoundations.html#chanMStable"><span class="id" type="constructor">chanMStable</span></a><a class="idref" href="LanguageFoundations.html#::x_'*?'"><span class="id" type="notation">*?</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="LanguageFoundations.html#chanMNext"><span class="id" type="constructor">chanMNext</span></a><a class="idref" href="LanguageFoundations.html#::x_';?'_x"><span class="id" type="notation">;?</span></a> <a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">[</span></a><a class="idref" href="LanguageFoundations.html#baseMode"><span class="id" type="constructor">baseMode</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a><a class="idref" href="ComhBasics.html#::'['_x_','_'..'_','_x_']'"><span class="id" type="notation">]</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">k</span>. <span class="id" type="tactic">right</span>. <span class="id" type="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">lets</span> <span class="id" type="var">SMI</span> : <a class="idref" href="ModeStateLanguage.html#stepMsInit"><span class="id" type="constructor">stepMsInit</span></a> <span class="id" type="var">H</span>. <span class="id" type="tactic">apply</span> <span class="id" type="var">SMI</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">econstructor</span>. <span class="id" type="tactic">constructor</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="next_modeState_stable_not"><span class="id" type="lemma">next_modeState_stable_not</span></a> <span class="id" type="var">k</span> <span class="id" type="var">k'</span> <span class="id" type="var">m'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#nextModeMState"><span class="id" type="definition">nextModeMState</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="ModeStateLanguage.html#m'"><span class="id" type="variable">m'</span></a> -&gt; <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanMStable"><span class="id" type="constructor">chanMStable</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@!'"><span class="id" type="notation">@!</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a>.<br/>
&nbsp;&nbsp;<span class="id" type="var">Admitted</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="modeState_abort_in_not"><span class="id" type="lemma">modeState_abort_in_not</span></a> <span class="id" type="var">k</span> <span class="id" type="var">k'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="LanguageFoundations.html#chanAbort"><span class="id" type="constructor">chanAbort</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'@?'"><span class="id" type="notation">@?</span></a> <a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">-</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">ms</span></a><a class="idref" href="ModeStateLanguage.html#::x_'-ms-'_x_'-ms>'_x"><span class="id" type="notation">&gt;</span></a> <a class="idref" href="ModeStateLanguage.html#k'"><span class="id" type="variable">k'</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a>. <span class="id" type="var">Admitted</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="unstable_stable_out_not"><span class="id" type="lemma">unstable_stable_out_not</span></a> <span class="id" type="var">k</span> : <a class="idref" href="ModeStateLanguage.html#unstable"><span class="id" type="inductive">unstable</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~</span></a> <a class="idref" href="ModeStateLanguage.html#discActEnabledMState"><span class="id" type="inductive">discActEnabledMState</span></a> (<a class="idref" href="LanguageFoundations.html#chanMStable"><span class="id" type="constructor">chanMStable</span></a> <a class="idref" href="LanguageFoundations.html#::x_'*!'"><span class="id" type="notation">*!</span></a>) <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>. <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#not"><span class="id" type="definition">not</span></a>. <span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>. <span class="id" type="tactic">subst</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="nextMode_unstable"><span class="id" type="lemma">nextMode_unstable</span></a> <span class="id" type="var">k</span> <span class="id" type="var">m</span> : <a class="idref" href="ModeStateLanguage.html#nextModeMState"><span class="id" type="definition">nextModeMState</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl3/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="ModeStateLanguage.html#m"><span class="id" type="variable">m</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="ModeStateLanguage.html#unstable"><span class="id" type="inductive">unstable</span></a> <a class="idref" href="ModeStateLanguage.html#k"><span class="id" type="variable">k</span></a>. <span class="id" type="tactic">intros</span>. <span class="id" type="tactic">destruct</span> <span class="id" type="var">k</span>. <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>